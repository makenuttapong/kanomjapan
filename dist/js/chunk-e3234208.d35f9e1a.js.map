{"version":3,"sources":["webpack:///./src/components/pagination.vue?9211","webpack:///./src/components/pagination.vue?c4c2","webpack:///src/components/pagination.vue","webpack:///./src/components/pagination.vue?89ed","webpack:///./src/components/pagination.vue","webpack:///./src/views/customer/orderlist.vue?5c17","webpack:///./src/components/listoforder.vue?282d","webpack:///src/components/listoforder.vue","webpack:///./src/components/listoforder.vue?908d","webpack:///./src/components/listoforder.vue","webpack:///src/views/customer/orderlist.vue","webpack:///./src/views/customer/orderlist.vue?7d17","webpack:///./src/views/customer/orderlist.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","rows","perPage","on","$event","updatePage","currentPage","model","value","callback","$$v","expression","staticRenderFns","name","props","itemPerPage","methods","page","$emit","computed","totalItem","component","_v","changeStatus","scopedSlots","_u","key","fn","proxy","_e","loading","orderItem","itemStart","itemEnd","totalDatas","detailPage","paypage","confirmGet","length","$store","state","currentP","loadMore","_s","start","end","_l","item","index","orderID","createAt","status","deliverNumber","orderItems","deliverCompany","totalAll","formatPrice","accId","toPay","id","rating","toggleModal","toDetail","comfirmGet","toggleModalConfirmGet","idOrder","components","CreditCardIcon","SearchIcon","StarIcon","PackageIcon","FileTextIcon","CalendarIcon","$router","push","val","toFixed","toString","replace","$bvModal","hide","show","VclList","ListofOrder","Pagination","statusOrder","window","scrollTo","loadOrders","dispatch","indexOf","oderDetailRef","statusName","date","time","toDate","formatTimeShow","console","log","setData","updateAt","Date","updataData"],"mappings":"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","file":"js/chunk-e3234208.d35f9e1a.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=style&index=0&id=62654af7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"overflow-auto\"},[_c('div',{staticClass:\"pagination-item\"},[_c('b-pagination',{attrs:{\"total-rows\":_vm.rows,\"per-page\":_vm.perPage,\"aria-controls\":\"my-table\"},on:{\"input\":function($event){return _vm.updatePage(_vm.currentPage)}},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"overflow-auto\">\r\n    <div class=\"pagination-item\">\r\n      <b-pagination\r\n        v-model=\"currentPage\"\r\n        :total-rows=\"rows\"\r\n        :per-page=\"perPage\"\r\n        aria-controls=\"my-table\"\r\n        @input=\"updatePage(currentPage)\"\r\n      ></b-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Pagination\",\r\n  props: [\"currentPage\",\"totalItem\", \"itemPerPage\", \"start\", \"end\"],\r\n  data() {\r\n    return {\r\n      perPage: this.itemPerPage,\r\n    };\r\n  },\r\n  methods: {\r\n    updatePage(page) {\r\n      this.$emit(\"selectedPage\", page - 1);\r\n    },\r\n  },\r\n  computed: {\r\n    rows() {\r\n      return this.totalItem;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.pagination-item {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n.numItem {\r\n  margin-top: 2rem;\r\n}\r\n::v-deep .page-item.active .page-link {\r\n  background-color: #7367f0;\r\n  border-color: #7367f0;\r\n  color: white;\r\n}\r\n::v-deep .page-link,\r\n::v-deep .page-link:hover{\r\n  color:#7367f0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./pagination.vue?vue&type=template&id=62654af7&scoped=true&\"\nimport script from \"./pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./pagination.vue?vue&type=script&lang=js&\"\nimport style0 from \"./pagination.vue?vue&type=style&index=0&id=62654af7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62654af7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-card',[_c('h5',{staticClass:\"mb-4\"},[_c('i',{staticClass:\"fa fa-history\",attrs:{\"color\":\"#7367f0\"}}),_vm._v(\" ประวัติการสั่งซื้อ \")]),_c('b-tabs',{attrs:{\"pills\":\"\"}},[_c('b-tab',{attrs:{\"active\":\"\"},on:{\"click\":function($event){return _vm.changeStatus('all')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{staticClass:\"fa fa-clipboard-check\"}),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\" คำสั่งซื้อทั้งหมด\")])]},proxy:true}])}),_c('b-tab',{on:{\"click\":function($event){return _vm.changeStatus('to-pay')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{staticClass:\"fa fa-credit-card\"}),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\" ที่ต้องชำระ\")])]},proxy:true}])}),_c('b-tab',{on:{\"click\":function($event){return _vm.changeStatus('to-receive')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{staticClass:\"fa fa-truck\"}),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\" ที่ต้องได้รับ\")])]},proxy:true}])}),_c('b-tab',{on:{\"click\":function($event){return _vm.changeStatus('to-success')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{staticClass:\"fa fa-check\"}),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\" ที่จัดส่งแล้ว\")])]},proxy:true}])}),_c('b-tab',{on:{\"click\":function($event){return _vm.changeStatus('to-cancle')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{staticClass:\"fa fa-times\"}),_c('span',{staticClass:\"d-none d-sm-inline\"},[_vm._v(\" ที่ถูกยกเลิก\")])]},proxy:true}])})],1),(_vm.loading)?_c('div',{staticClass:\"p-4\"},[_c('vcl-list')],1):_vm._e(),(!_vm.loading)?_c('div',{staticClass:\"mt-4 pt-2\"},[_c('ListofOrder',{attrs:{\"orderItem\":_vm.orderItem,\"start\":_vm.itemStart,\"end\":_vm.itemEnd,\"totalItem\":_vm.totalDatas},on:{\"toDetailPage\":_vm.detailPage,\"toPayPage\":_vm.paypage,\"confirmGetItem\":_vm.confirmGet}}),(_vm.orderItem.length != 0)?_c('div',{staticClass:\"mt-3\"},[_c('Pagination',{attrs:{\"currentPage\":this.$store.state.currentP + 1,\"totalItem\":_vm.totalDatas,\"itemPerPage\":_vm.itemPerPage,\"start\":_vm.itemStart,\"end\":_vm.itemEnd},on:{\"selectedPage\":_vm.loadMore}})],1):_vm._e()],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.orderItem.length == 0)?_c('div',{staticClass:\"text-center p-4 h6\"},[_vm._v(\" ไม่พบข้อมูล \")]):_vm._e(),(_vm.orderItem.length != 0)?_c('div',{staticClass:\"text-mute\"},[_vm._v(\" รายการที่ \"+_vm._s(_vm.start)+\" - \"+_vm._s(_vm.end)+\" จาก \"+_vm._s(_vm.totalItem)+\" รายการ \")]):_vm._e(),_vm._l((_vm.orderItem),function(item,index){return _c('div',{key:index},[_c('b-card',{staticClass:\"mt-2 card-border collapse-icon\"},[_c('div',{staticClass:\"content-order row\"},[_c('div',{staticClass:\"col-12 col-sm-6 col-md-3 col-lg-2\"},[_c('small',{staticClass:\"text-primary\"},[_vm._v(\"หมายเลขคำสั่งซื้อ\")]),_c('div',[_c('FileTextIcon',{staticClass:\"mb-1 mr-1\",attrs:{\"size\":\"18\",\"color\":\"#7367f0\"}}),_vm._v(_vm._s(item.orderID)+\" \")],1)]),_c('div',{staticClass:\"col-12 col-sm-6 col-md-3 col-lg-2\"},[_c('small',{staticClass:\"text-primary\"},[_vm._v(\"วันที่สั่ง\")]),_c('div',{staticClass:\"createOrder\"},[_c('CalendarIcon',{staticClass:\"mb-1 mr-1\",attrs:{\"size\":\"14\"}}),_vm._v(_vm._s(item.createAt)+\" \")],1)]),_c('div',{staticClass:\"col-12 col-sm-6 col-md-3 col-lg-2\"},[_c('small',{staticClass:\"text-primary\"},[_vm._v(\"สถานะ\")]),(item.status == 'รอชำระ')?_c('div',[_c('b-badge',{staticClass:\"status-wait-style font-14\",attrs:{\"pill\":\"\"}},[_c('i',{staticClass:\"fa fa-clock\"}),_vm._v(\" \"+_vm._s(item.status))])],1):_vm._e(),(item.status == 'รอการตรวจสอบ')?_c('div',[_c('b-badge',{staticClass:\"status-checkSlip-style font-14\",attrs:{\"pill\":\"\"}},[_c('i',{staticClass:\"fa fa-search-dollar\"}),_vm._v(\" \"+_vm._s(item.status))])],1):_vm._e(),(item.status == 'เตรียมจัดส่ง')?_c('div',[_c('b-badge',{staticClass:\"status-ready-style font-14\",attrs:{\"pill\":\"\"}},[_c('i',{staticClass:\"fa fa-truck-loading\"}),_vm._v(\" \"+_vm._s(item.status))])],1):_vm._e(),(item.status == 'อยู่ระหว่างการจัดส่ง')?_c('div',[_c('b-badge',{staticClass:\"status-sent-style font-14\",attrs:{\"pill\":\"\"}},[_c('i',{staticClass:\"fa fa-shipping-fast\"}),_vm._v(\" \"+_vm._s(item.status))])],1):_vm._e(),(item.status == 'จัดส่งแล้ว')?_c('div',[_c('b-badge',{staticClass:\"status-check-style font-14\",attrs:{\"pill\":\"\"}},[_c('i',{staticClass:\"fa fa-check\"}),_vm._v(\" \"+_vm._s(item.status))])],1):_vm._e(),(item.status == 'ยกเลิก')?_c('div',[_c('b-badge',{staticClass:\"status-cancle-style font-14\",attrs:{\"pill\":\"\"}},[_c('i',{staticClass:\"fa fa-times\"}),_vm._v(\" \"+_vm._s(item.status))])],1):_vm._e()]),_c('div',{staticClass:\"col-12 col-sm-6 col-md-2 d-none d-lg-inline\"},[(\n              item.status == 'อยู่ระหว่างการจัดส่ง' ||\n              item.status == 'จัดส่งแล้ว'\n            )?_c('div',{staticClass:\"col tackNum\"},[_c('small',{staticClass:\"text-primary\"},[_vm._v(\"หมายเลขพัสดุ\")]),_c('div',[_vm._v(_vm._s(item.deliverNumber ? item.deliverNumber : \"-\"))])]):_vm._e(),(\n              item.status != 'อยู่ระหว่างการจัดส่ง' &&\n              item.status != 'จัดส่งแล้ว'\n            )?_c('div',{staticClass:\"col slip\"},[_c('small',{staticClass:\"text-primary\"},[_vm._v(\"รายการสินค้า\")]),_c('div',[_vm._v(\" \"+_vm._s(item.orderItems.length != 0 ? item.orderItems.length : \"0\")+\" รายการ \")])]):_vm._e()]),_c('div',{staticClass:\"col-12 col-sm-6 col-md-2 d-none d-lg-inline\"},[(\n              item.status == 'อยู่ระหว่างการจัดส่ง' ||\n              item.status == 'จัดส่งแล้ว'\n            )?_c('div',{staticClass:\"col tackCom\"},[_c('small',{staticClass:\"text-primary\"},[_vm._v(\"บริษัทขนส่ง\")]),_c('div',[_vm._v(_vm._s(item.deliverCompany ? item.deliverCompany : \"-\"))])]):_vm._e(),(\n              item.status != 'อยู่ระหว่างการจัดส่ง' &&\n              item.status != 'จัดส่งแล้ว'\n            )?_c('div',{staticClass:\"col all-price\"},[_c('small',{staticClass:\"text-primary\"},[_vm._v(\"ราคารวม\")]),_c('div',[_vm._v(\" \"+_vm._s(item.totalAll ? _vm.formatPrice(item.totalAll) : \"-\")+\" บาท \")])]):_vm._e()]),_c('div',{staticClass:\"col-12 col-sm-6 col-md-3 col-lg-2 icon-pay\"},[(item.status == 'รอชำระ')?_c('b-button',{attrs:{\"variant\":\"orange\",\"id\":\"pay-order-\" + item.accId},on:{\"click\":function($event){return _vm.toPay(item.id)}}},[_c('CreditCardIcon',{attrs:{\"size\":\"20\"}})],1):_vm._e(),(item.status == 'รอชำระ')?_c('b-tooltip',{attrs:{\"target\":\"pay-order-\" + item.accId,\"triggers\":\"hover\"}},[_vm._v(\" ชำระสินค้า \")]):_vm._e(),(item.status == 'จัดส่งแล้ว')?_c('b-button',{attrs:{\"variant\":\"yellow\",\"id\":\"pay-order-\" + item.accId},on:{\"click\":function($event){return _vm.rating(item.id)}}},[_c('StarIcon',{attrs:{\"size\":\"20\"}})],1):_vm._e(),(item.status == 'จัดส่งแล้ว')?_c('b-tooltip',{attrs:{\"target\":\"pay-order-\" + item.accId,\"triggers\":\"hover\"}},[_vm._v(\" ให้คะแนนสินค้า \")]):_vm._e(),(item.status == 'อยู่ระหว่างการจัดส่ง')?_c('b-button',{attrs:{\"variant\":\"green\",\"id\":\"pay-order-\" + item.accId},on:{\"click\":function($event){return _vm.toggleModal(item)}}},[_c('PackageIcon',{attrs:{\"size\":\"20\"}})],1):_vm._e(),(item.status == 'อยู่ระหว่างการจัดส่ง')?_c('b-tooltip',{attrs:{\"target\":\"pay-order-\" + item.accId,\"triggers\":\"hover\"}},[_vm._v(\" ได้รับสินค้าแล้ว \")]):_vm._e(),_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"primary\",\"id\":\"detail-order-\" + item.accId},on:{\"click\":function($event){return _vm.toDetail(item.id)}}},[_c('SearchIcon',{attrs:{\"size\":\"20\"}})],1),_c('b-tooltip',{attrs:{\"target\":\"detail-order-\" + item.accId,\"triggers\":\"hover\"}},[_vm._v(\" ดูรายละเอียด \")])],1)])])],1)}),_c('b-modal',{attrs:{\"id\":\"modal-conf\",\"hide-footer\":\"\",\"size\":\"md\",\"title\":\"ยืนยันการรับสินค้า\"}},[[_c('div',{staticClass:\"center\"},[_vm._v(\"ยืนยันว่าคุณได้ตรวจสอบและรับสินค้าแล้ว\")]),_c('div',{staticClass:\"btn-delete text-center mt-2\"},[_c('b-row',[_c('b-col',{staticClass:\"mt-2 mb-2\",attrs:{\"cols\":\"12\"}},[_c('b-button',{staticClass:\"mr-1\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.comfirmGet}},[_vm._v(\"ยืนยัน\")]),_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.toggleModalConfirmGet}},[_vm._v(\"ยกเลิก\")])],1)],1)],1)]],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div v-if=\"orderItem.length == 0\" class=\"text-center p-4 h6\">\r\n      ไม่พบข้อมูล\r\n    </div>\r\n    <div v-if=\"orderItem.length != 0\" class=\"text-mute\">\r\n      รายการที่ {{ start }} - {{ end }} จาก {{ totalItem }} รายการ\r\n    </div>\r\n    <div v-for=\"(item, index) in orderItem\" :key=\"index\">\r\n      <b-card class=\"mt-2 card-border collapse-icon\">\r\n        <div class=\"content-order row\">\r\n          <div class=\"col-12 col-sm-6 col-md-3 col-lg-2\">\r\n            <small class=\"text-primary\">หมายเลขคำสั่งซื้อ</small>\r\n            <div>\r\n              <FileTextIcon size=\"18\" class=\"mb-1 mr-1\" color=\"#7367f0\" />{{\r\n                item.orderID\r\n              }}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 col-sm-6 col-md-3 col-lg-2\">\r\n            <small class=\"text-primary\">วันที่สั่ง</small>\r\n            <div class=\"createOrder\">\r\n              <CalendarIcon size=\"14\" class=\"mb-1 mr-1\" />{{ item.createAt }}\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12 col-sm-6 col-md-3 col-lg-2\">\r\n            <small class=\"text-primary\">สถานะ</small>\r\n            <div v-if=\"item.status == 'รอชำระ'\">\r\n              <b-badge pill class=\"status-wait-style font-14\"\r\n                ><i class=\"fa fa-clock\" /> {{ item.status }}</b-badge\r\n              >\r\n            </div>\r\n            <div v-if=\"item.status == 'รอการตรวจสอบ'\">\r\n              <b-badge pill class=\"status-checkSlip-style font-14\"\r\n                ><i class=\"fa fa-search-dollar\" /> {{ item.status }}</b-badge\r\n              >\r\n            </div>\r\n            <div v-if=\"item.status == 'เตรียมจัดส่ง'\">\r\n              <b-badge pill class=\"status-ready-style font-14\"\r\n                ><i class=\"fa fa-truck-loading\" /> {{ item.status }}</b-badge\r\n              >\r\n            </div>\r\n            <div v-if=\"item.status == 'อยู่ระหว่างการจัดส่ง'\">\r\n              <b-badge pill class=\"status-sent-style font-14\"\r\n                ><i class=\"fa fa-shipping-fast\" /> {{ item.status }}</b-badge\r\n              >\r\n            </div>\r\n            <div v-if=\"item.status == 'จัดส่งแล้ว'\">\r\n              <b-badge pill class=\"status-check-style font-14\"\r\n                ><i class=\"fa fa-check\" /> {{ item.status }}</b-badge\r\n              >\r\n            </div>\r\n            <div v-if=\"item.status == 'ยกเลิก'\">\r\n              <b-badge pill class=\"status-cancle-style font-14\"\r\n                ><i class=\"fa fa-times\" /> {{ item.status }}</b-badge\r\n              >\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-12 col-sm-6 col-md-2 d-none d-lg-inline\">\r\n            <div\r\n              v-if=\"\r\n                item.status == 'อยู่ระหว่างการจัดส่ง' ||\r\n                item.status == 'จัดส่งแล้ว'\r\n              \"\r\n              class=\"col tackNum\"\r\n            >\r\n              <small class=\"text-primary\">หมายเลขพัสดุ</small>\r\n              <div>{{ item.deliverNumber ? item.deliverNumber : \"-\" }}</div>\r\n            </div>\r\n\r\n            <div\r\n              v-if=\"\r\n                item.status != 'อยู่ระหว่างการจัดส่ง' &&\r\n                item.status != 'จัดส่งแล้ว'\r\n              \"\r\n              class=\"col slip\"\r\n            >\r\n              <small class=\"text-primary\">รายการสินค้า</small>\r\n              <div>\r\n                {{ item.orderItems.length != 0 ? item.orderItems.length : \"0\" }}\r\n                รายการ\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-12 col-sm-6 col-md-2 d-none d-lg-inline\">\r\n            <div\r\n              v-if=\"\r\n                item.status == 'อยู่ระหว่างการจัดส่ง' ||\r\n                item.status == 'จัดส่งแล้ว'\r\n              \"\r\n              class=\"col tackCom\"\r\n            >\r\n              <small class=\"text-primary\">บริษัทขนส่ง</small>\r\n              <div>{{ item.deliverCompany ? item.deliverCompany : \"-\" }}</div>\r\n            </div>\r\n            <div\r\n              v-if=\"\r\n                item.status != 'อยู่ระหว่างการจัดส่ง' &&\r\n                item.status != 'จัดส่งแล้ว'\r\n              \"\r\n              class=\"col all-price\"\r\n            >\r\n              <small class=\"text-primary\">ราคารวม</small>\r\n              <div>\r\n                {{ item.totalAll ? formatPrice(item.totalAll) : \"-\" }} บาท\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"col-12 col-sm-6 col-md-3 col-lg-2 icon-pay\">\r\n            <b-button\r\n              v-if=\"item.status == 'รอชำระ'\"\r\n              variant=\"orange\"\r\n              :id=\"`pay-order-` + item.accId\"\r\n              @click=\"toPay(item.id)\"\r\n            >\r\n              <CreditCardIcon size=\"20\"\r\n            /></b-button>\r\n            <b-tooltip\r\n              :target=\"`pay-order-` + item.accId\"\r\n              triggers=\"hover\"\r\n              v-if=\"item.status == 'รอชำระ'\"\r\n            >\r\n              ชำระสินค้า\r\n            </b-tooltip>\r\n\r\n            <b-button\r\n              v-if=\"item.status == 'จัดส่งแล้ว'\"\r\n              variant=\"yellow\"\r\n              :id=\"`pay-order-` + item.accId\"\r\n              @click=\"rating(item.id)\"\r\n              ><StarIcon size=\"20\"\r\n            /></b-button>\r\n            <b-tooltip :target=\"`pay-order-` + item.accId\" triggers=\"hover\" v-if=\"item.status == 'จัดส่งแล้ว'\">\r\n              ให้คะแนนสินค้า\r\n            </b-tooltip>\r\n\r\n            <b-button\r\n              v-if=\"item.status == 'อยู่ระหว่างการจัดส่ง'\"\r\n              variant=\"green\"\r\n              :id=\"`pay-order-` + item.accId\"\r\n              @click=\"toggleModal(item)\"\r\n              ><PackageIcon size=\"20\"\r\n            /></b-button>\r\n            <b-tooltip :target=\"`pay-order-` + item.accId\" triggers=\"hover\"  v-if=\"item.status == 'อยู่ระหว่างการจัดส่ง'\">\r\n              ได้รับสินค้าแล้ว\r\n            </b-tooltip>\r\n\r\n            <b-button\r\n              class=\"ml-2\"\r\n              variant=\"primary\"\r\n              :id=\"`detail-order-` + item.accId\"\r\n              @click=\"toDetail(item.id)\"\r\n              ><SearchIcon size=\"20\"\r\n            /></b-button>\r\n            <b-tooltip :target=\"`detail-order-` + item.accId\" triggers=\"hover\">\r\n              ดูรายละเอียด\r\n            </b-tooltip>\r\n          </div>\r\n\r\n          <!-- <div class=\"col-12 col-sm-6 icon-coll\"></div> -->\r\n        </div>\r\n      </b-card>\r\n    </div>\r\n\r\n    <b-modal id=\"modal-conf\" hide-footer size=\"md\" title=\"ยืนยันการรับสินค้า\">\r\n      <template>\r\n        <div class=\"center\">ยืนยันว่าคุณได้ตรวจสอบและรับสินค้าแล้ว</div>\r\n        <div class=\"btn-delete text-center mt-2\">\r\n          <b-row>\r\n            <b-col cols=\"12\" class=\"mt-2 mb-2\">\r\n              <b-button @click=\"comfirmGet\" variant=\"primary\" class=\"mr-1\"\r\n                >ยืนยัน</b-button\r\n              >\r\n              <b-button @click=\"toggleModalConfirmGet\" variant=\"outline-primary\"\r\n                >ยกเลิก</b-button\r\n              >\r\n            </b-col>\r\n          </b-row>\r\n        </div>\r\n      </template>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../assets/scss/style.scss\";\r\nimport {\r\n  CreditCardIcon,\r\n  SearchIcon,\r\n  StarIcon,\r\n  PackageIcon,\r\n  FileTextIcon,\r\n  CalendarIcon,\r\n} from \"vue-feather-icons\";\r\n\r\nexport default {\r\n  name: \"ListofOrder\",\r\n  data() {\r\n    return {\r\n      idOrder: {},\r\n    };\r\n  },\r\n  components: {\r\n    CreditCardIcon,\r\n    SearchIcon,\r\n    StarIcon,\r\n    PackageIcon,\r\n    FileTextIcon,\r\n    CalendarIcon,\r\n  },\r\n  props: [\"orderItem\", \"start\", \"end\", \"totalItem\"],\r\n  methods: {\r\n    toDetail(id) {\r\n      this.$emit(\"toDetailPage\", id);\r\n    },\r\n    toPay(id) {\r\n      this.$emit(\"toPayPage\", id);\r\n    },\r\n    rating(id) {\r\n      this.$router.push(\"/rating/\" + id);\r\n    },\r\n    formatPrice(value) {\r\n      let val = (value / 1).toFixed(0);\r\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n    },\r\n    comfirmGet() {\r\n      this.$bvModal.hide(\"modal-conf\");\r\n      this.$emit(\"confirmGetItem\", this.idOrder);\r\n    },\r\n    toggleModal(item) {\r\n      this.idOrder = item;\r\n      this.$bvModal.show(\"modal-conf\");\r\n    },\r\n    toggleModalConfirmGet() {\r\n      this.$bvModal.hide(\"modal-conf\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listoforder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listoforder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listoforder.vue?vue&type=template&id=65782c24&\"\nimport script from \"./listoforder.vue?vue&type=script&lang=js&\"\nexport * from \"./listoforder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <b-card>\r\n      <h5 class=\"mb-4\">\r\n        <i class=\"fa fa-history\" color=\"#7367f0\" /> ประวัติการสั่งซื้อ\r\n      </h5>\r\n      <b-tabs pills>\r\n        <!-- Tab: ALL ORDER -->\r\n        <b-tab active @click=\"changeStatus('all')\">\r\n          <template #title>\r\n            <i class=\"fa fa-clipboard-check\" />\r\n            <span class=\"d-none d-sm-inline\"> คำสั่งซื้อทั้งหมด</span>\r\n          </template>\r\n        </b-tab>\r\n\r\n        <!--TAP: NOT YET -->\r\n        <b-tab @click=\"changeStatus('to-pay')\">\r\n          <template #title>\r\n            <i class=\"fa fa-credit-card\" />\r\n            <span class=\"d-none d-sm-inline\"> ที่ต้องชำระ</span>\r\n          </template>\r\n        </b-tab>\r\n\r\n        <b-tab @click=\"changeStatus('to-receive')\">\r\n          <template #title>\r\n            <i class=\"fa fa-truck\" />\r\n            <span class=\"d-none d-sm-inline\"> ที่ต้องได้รับ</span>\r\n          </template>\r\n        </b-tab>\r\n\r\n        <!-- TAP SUCCESS -->\r\n        <b-tab @click=\"changeStatus('to-success')\">\r\n          <template #title>\r\n            <i class=\"fa fa-check\" />\r\n            <span class=\"d-none d-sm-inline\"> ที่จัดส่งแล้ว</span>\r\n          </template>\r\n        </b-tab>\r\n\r\n        <!-- TAP CANCEL -->\r\n        <b-tab @click=\"changeStatus('to-cancle')\">\r\n          <template #title>\r\n            <i class=\"fa fa-times\" />\r\n            <span class=\"d-none d-sm-inline\"> ที่ถูกยกเลิก</span>\r\n          </template>\r\n        </b-tab>\r\n      </b-tabs>\r\n\r\n      <div v-if=\"loading\" class=\"p-4\">\r\n        <vcl-list> </vcl-list>\r\n      </div>\r\n      <div v-if=\"!loading\" class=\"mt-4 pt-2\">\r\n        <ListofOrder\r\n          :orderItem=\"orderItem\"\r\n          @toDetailPage=\"detailPage\"\r\n          @toPayPage=\"paypage\"\r\n          @confirmGetItem=\"confirmGet\"\r\n          :start=\"itemStart\"\r\n          :end=\"itemEnd\"\r\n          :totalItem=\"totalDatas\"\r\n        />\r\n\r\n        <div class=\"mt-3\" v-if=\"orderItem.length != 0\">\r\n          <Pagination\r\n            @selectedPage=\"loadMore\"\r\n            :currentPage=\"this.$store.state.currentP + 1\"\r\n            :totalItem=\"totalDatas\"\r\n            :itemPerPage=\"itemPerPage\"\r\n            :start=\"itemStart\"\r\n            :end=\"itemEnd\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </b-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebaseApp from \"../../firebase/firebase_app\";\r\nimport \"../../assets/scss/style.scss\";\r\nimport { VclList } from \"vue-content-loading\";\r\nimport Pagination from \"../../components/pagination\";\r\nimport ListofOrder from \"../../components/listoforder\";\r\nimport moment from \"moment\";\r\n\r\nexport default {\r\n  name: \"OrderList\",\r\n  components: {\r\n    VclList,\r\n    ListofOrder,\r\n    Pagination,\r\n  },\r\n  computed: {\r\n    currentP() {\r\n      return this.$store.state.currentP;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      statusOrder: \"all\",\r\n      orderItem: [],\r\n      totalDatas: null,\r\n      itemPerPage: 20,\r\n      itemStart: null,\r\n      itemEnd: null,\r\n    };\r\n  },\r\n  created() {\r\n    window.scrollTo(0, 0);\r\n    this.loadOrders();\r\n  },\r\n  methods: {\r\n    changeStatus(status) {\r\n      this.$store.dispatch(\"changePage\", 0);\r\n      this.statusOrder = status;\r\n      this.loadOrders();\r\n    },\r\n    loadOrders() {\r\n      this.loading = true;\r\n      let indexOf = this.itemPerPage * this.$store.state.currentP; //itemperPage = totalitem/limit\r\n\r\n      const oderDetailRef = firebaseApp.firestore().collection(\"orders\");\r\n\r\n      if (this.statusOrder == \"to-pay\") {\r\n        var statusName = oderDetailRef\r\n          .where(\"userID\", \"==\", firebaseApp.auth().currentUser.uid)\r\n          .where(\"status\", \"in\", [\"รอชำระ\", \"รอการตรวจสอบ\"])\r\n          .orderBy(\"createAt\", \"desc\");\r\n      } else if (this.statusOrder == \"to-receive\") {\r\n        statusName = oderDetailRef\r\n          .where(\"userID\", \"==\", firebaseApp.auth().currentUser.uid)\r\n          .where(\"status\", \"in\", [\"อยู่ระหว่างการจัดส่ง\", \"เตรียมจัดส่ง\"])\r\n          .orderBy(\"createAt\", \"desc\");\r\n      } else if (this.statusOrder == \"to-success\") {\r\n        statusName = oderDetailRef\r\n          .where(\"userID\", \"==\", firebaseApp.auth().currentUser.uid)\r\n          .where(\"status\", \"==\", \"จัดส่งแล้ว\")\r\n          .orderBy(\"createAt\", \"desc\");\r\n      } else if (this.statusOrder == \"to-cancle\") {\r\n        statusName = oderDetailRef\r\n          .where(\"userID\", \"==\", firebaseApp.auth().currentUser.uid)\r\n          .where(\"status\", \"==\", \"ยกเลิก\")\r\n          .orderBy(\"createAt\", \"desc\");\r\n      } else {\r\n        statusName = oderDetailRef\r\n          .where(\"userID\", \"==\", firebaseApp.auth().currentUser.uid)\r\n          .orderBy(\"createAt\", \"desc\");\r\n      }\r\n\r\n      return statusName\r\n        .get()\r\n        .then((document) => {\r\n          let last = document.docs[indexOf];\r\n          var itemCount = document.docs.length;\r\n          var page = this.$store.state.currentP + 1;\r\n          var start = page * this.itemPerPage - (this.itemPerPage - 1);\r\n          var end = Math.min(start + this.itemPerPage - 1, itemCount);\r\n          this.itemStart = start;\r\n          this.itemEnd = end;\r\n          this.totalDatas = itemCount;\r\n          if (last) {\r\n            var queryRef = statusName.startAt(last).limit(this.itemPerPage);\r\n          } else {\r\n            queryRef = statusName.limit(this.itemPerPage);\r\n          }\r\n\r\n          queryRef\r\n            .get()\r\n            .then((querySnapshot) => {\r\n              var data = [];\r\n              var index = 1;\r\n              querySnapshot.forEach((doc) => {\r\n                var item = {\r\n                  id: doc.id,\r\n                  accId: index,\r\n                  orderID: doc.data().orderID,\r\n                  orderItems: doc.data().items,\r\n                  status: doc.data().status,\r\n                  totalAll: doc.data().totalAll,\r\n                  items: doc.data().items.length,\r\n                  deliverPrice: doc.data().deliverPrice,\r\n                  paywith: doc.data().paywith,\r\n                  slipImage: doc.data().slipImage,\r\n                  address: doc.data().address,\r\n                  payon: doc.data().payon\r\n                    ? this.formatDate(doc.data().payon)\r\n                    : \"\",\r\n                  deliverNumber: doc.data().deliverNumber,\r\n                  deliverCompany: doc.data().deliverCompany,\r\n                  createAt: doc.data().createAt\r\n                    ? this.formatDate(doc.data().createAt)\r\n                    : \"\",\r\n                  updateAt: doc.data().updateAt\r\n                    ? this.formatDate(doc.data().updateAt)\r\n                    : \"\",\r\n                };\r\n                data.push(item);\r\n                index = index + 1;\r\n              });\r\n              this.orderItem = data;\r\n              this.loading = false;\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n              this.loading = false;\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.loading = false;\r\n        });\r\n    },\r\n    detailPage(idOrder) {\r\n      this.$router.push(\"/user-order/\" + idOrder);\r\n    },\r\n    formatDate(date) {\r\n      var time = date.toDate();\r\n      var formatTimeShow = moment(time).format(\"DD-MM-YYYY HH:mm\");\r\n      return formatTimeShow;\r\n    },\r\n    paypage(idOrder) {\r\n      this.$router.push(\"/confirm-order/\" + idOrder);\r\n    },\r\n    toggleModalUpload() {\r\n      console.log(\"upload\");\r\n    },\r\n    loadMore(page) {\r\n      this.$store.dispatch(\"changePage\", page);\r\n      this.loadOrders();\r\n    },\r\n    confirmGet(item) {\r\n      var setData = {\r\n        status: \"จัดส่งแล้ว\",\r\n        updateAt: new Date(),\r\n      };\r\n      const updataData = firebaseApp.firestore().doc(\"orders/\" + item.id);\r\n      updataData\r\n        .update(setData)\r\n        .then(() => {\r\n          const user = firebaseApp.auth().currentUser;\r\n          firebaseApp\r\n            .firestore()\r\n            .doc(\"users/\" + user.uid)\r\n            .get()\r\n            .then((document) => {\r\n              const checkRef = firebaseApp.firestore().collection(\"incomes\");\r\n              var setNewData = {\r\n                createAt: new Date(),\r\n                description: \"ได้รับเงินจากการซื้อสินค้า\",\r\n                orderID: item.orderID,\r\n                status: \"cash-in\",\r\n                price: item.totalAll,\r\n                userProfile: {\r\n                  image: document.data().image,\r\n                  email: document.data().email,\r\n                  name: document.data().name,\r\n                  role: document.data().role,\r\n                  userID: document.id,\r\n                },\r\n              };\r\n              checkRef.add(setNewData);\r\n              this.loadOrders();\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderlist.vue?vue&type=template&id=9dabc3b2&\"\nimport script from \"./orderlist.vue?vue&type=script&lang=js&\"\nexport * from \"./orderlist.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}