{"version":3,"sources":["webpack:///./src/assets/google-icon.svg","webpack:///./src/views/login.vue?b990","webpack:///./src/components/toast.vue?c393","webpack:///src/components/toast.vue","webpack:///./src/components/toast.vue?e133","webpack:///./src/components/toast.vue","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2a23","webpack:///./src/views/login.vue","webpack:///./src/assets/facebook-icon.svg","webpack:///./src/assets/logoW.svg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","on","goHomePage","_v","ref","$event","preventDefault","submit","scopedSlots","_u","key","fn","errors","length","model","value","callback","$$v","emailVaue","expression","_s","password","name","signUp","directives","rawName","modifiers","googleSignIn","facebookSignIn","staticRenderFns","components","SmileIcon","component","status","required","email","ValidationProvider","ValidationObserver","Ripple","methods","$refs","Rules","validate","then","success","$router","push","replace","uid","userRole","$swal","title","text","icon","confirmButtonText","width","customClass","confirmButton","buttonsStyling"],"mappings":"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","file":"js/chunk-31f58ba3.3f2d93ec.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/google-icon.14137f89.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"auth-wrapper auth-v1 px-2\"},[_c('div',{staticClass:\"auth-inner bg-auth py-2\"},[_c('b-overlay',{staticClass:\"setOverlay\",attrs:{\"show\":_vm.loading,\"rounded\":\"sm\"}},[_c('b-card',{staticClass:\"mb-0\"},[_c('div',{staticClass:\"brand-logo text-center\"},[_c('img',{attrs:{\"src\":require('../assets/logoW.svg'),\"width\":\"90px\"},on:{\"click\":_vm.goHomePage}})]),_c('b-card-title',{staticClass:\"mb-1 center\"},[_vm._v(\" ยินดีต้อนรับ \")]),_c('validation-observer',{ref:\"Rules\"},[_c('b-form',{staticClass:\"auth-login-form mt-2\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('b-form-group',{attrs:{\"label-for\":\"emailValue\",\"label\":\"อีเมล\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Email\",\"rules\":\"required|email\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"input-email\",\"type\":\"email\",\"placeholder\":\"กรอกอีเมล\",\"state\":errors.length > 0 ? false : null},model:{value:(_vm.emailVaue),callback:function ($$v) {_vm.emailVaue=$$v},expression:\"emailVaue\"}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])})],1),_c('b-form-group',{attrs:{\"label-for\":\"password\",\"label\":\"รหัสผ่าน\"}},[_c('ValidationProvider',{attrs:{\"name\":\"Password\",\"rules\":\"required|min:8\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{attrs:{\"id\":\"input-password\",\"type\":\"password\",\"placeholder\":\"กรอกรหัสผ่าน\",\"state\":errors.length > 0 ? false : null},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}])}),_c('div',{staticClass:\"forget\"},[_c('b-link',{attrs:{\"to\":{ name: 'forget' }}},[_c('small',[_vm._v(\"ลืมรหัสผ่าน?\")])])],1)],1),_c('div',{staticClass:\"center\"},[_c('b-button',{attrs:{\"variant\":\"primary\",\"type\":\"submit\",\"block\":\"\",\"disabled\":_vm.loading}},[_c('span',[_vm._v(\"เข้าสู่ระบบ\")])])],1)],1)],1),_c('b-card-text',{staticClass:\"text-center mt-2\"},[_c('span',[_vm._v(\"ถ้าคุณยังไม่ได้เป็นสมาชิก \")]),_c('b-link',[_c('span',{on:{\"click\":_vm.signUp}},[_vm._v(\"สมัครสมาชิก\")])])],1),_c('div',{staticClass:\"divider my-2 center\"},[_c('div',{staticClass:\"divider-text\"},[_vm._v(\"หรือ เข้าสู่ระบบด้วย\")])]),_c('div',{staticClass:\"center row\"},[_c('div',{staticClass:\"col mb-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(113, 102, 240, 0.15)'),expression:\"'rgba(113, 102, 240, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"variant\":\"outline-primary\",\"block\":\"\"},on:{\"click\":_vm.googleSignIn}},[_c('img',{attrs:{\"src\":require(\"../assets/google-icon.svg\"),\"width\":\"18px\",\"rel\":\"preload\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Google\")])])],1),_c('div',{staticClass:\"col mb-2\"},[_c('b-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",value:('rgba(113, 102, 240, 0.15)'),expression:\"'rgba(113, 102, 240, 0.15)'\",modifiers:{\"400\":true}}],attrs:{\"variant\":\"outline-primary\",\"block\":\"\"},on:{\"click\":_vm.facebookSignIn}},[_c('img',{attrs:{\"src\":require(\"../assets/facebook-icon.svg\"),\"width\":\"18px\",\"rel\":\"preload\"}}),_c('span',{staticClass:\"ml-2\"},[_vm._v(\"Facebook\")])])],1)])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SmileIcon')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <SmileIcon />\r\n</template>\r\n\r\n<script>\r\nimport { SmileIcon } from \"vue-feather-icons\";\r\nexport default {\r\n  components: {\r\n    SmileIcon,\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./toast.vue?vue&type=template&id=73b409e1&\"\nimport script from \"./toast.vue?vue&type=script&lang=js&\"\nexport * from \"./toast.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"auth-wrapper auth-v1 px-2\">\r\n    <div class=\"auth-inner bg-auth py-2\">\r\n      <b-overlay :show=\"loading\" rounded=\"sm\" class=\"setOverlay\">\r\n        <b-card class=\"mb-0\">\r\n          <div class=\"brand-logo text-center\" >\r\n            <img :src=\"require('../assets/logoW.svg')\" width=\"90px\" @click=\"goHomePage\" />\r\n          </div>\r\n          \r\n          <b-card-title class=\"mb-1 center\"> ยินดีต้อนรับ </b-card-title>\r\n          <validation-observer ref=\"Rules\">\r\n            <b-form class=\"auth-login-form mt-2\" @submit.prevent=\"submit\">\r\n              <!-- Email -->\r\n              <b-form-group label-for=\"emailValue\" label=\"อีเมล\">\r\n                <ValidationProvider\r\n                  #default=\"{ errors }\"\r\n                  name=\"Email\"\r\n                  rules=\"required|email\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"input-email\"\r\n                    v-model=\"emailVaue\"\r\n                    type=\"email\"\r\n                    placeholder=\"กรอกอีเมล\"\r\n                    :state=\"errors.length > 0 ? false : null\"\r\n                  ></b-form-input>\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </ValidationProvider>\r\n              </b-form-group>\r\n\r\n              <!-- Password -->\r\n              <b-form-group label-for=\"password\" label=\"รหัสผ่าน\">\r\n                <ValidationProvider\r\n                  #default=\"{ errors }\"\r\n                  name=\"Password\"\r\n                  rules=\"required|min:8\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"input-password\"\r\n                    v-model=\"password\"\r\n                    type=\"password\"\r\n                    placeholder=\"กรอกรหัสผ่าน\"\r\n                    :state=\"errors.length > 0 ? false : null\"\r\n                  ></b-form-input>\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </ValidationProvider>\r\n                <div class=\"forget\">\r\n                  <b-link :to=\"{ name: 'forget' }\">\r\n                    <small>ลืมรหัสผ่าน?</small>\r\n                  </b-link>\r\n                </div>\r\n              </b-form-group>\r\n              <div class=\"center\">\r\n                <b-button\r\n                  variant=\"primary\"\r\n                  type=\"submit\"\r\n                  block\r\n                  :disabled=\"loading\"\r\n                >\r\n                  <span>เข้าสู่ระบบ</span>\r\n                </b-button>\r\n              </div>\r\n            </b-form>\r\n          </validation-observer>\r\n\r\n          <b-card-text class=\"text-center mt-2\">\r\n            <span>ถ้าคุณยังไม่ได้เป็นสมาชิก </span>\r\n            <b-link>\r\n              <span @click=\"signUp\">สมัครสมาชิก</span>\r\n            </b-link>\r\n          </b-card-text>\r\n          <div class=\"divider my-2 center\">\r\n            <div class=\"divider-text\">หรือ เข้าสู่ระบบด้วย</div>\r\n          </div>\r\n          <div class=\"center row\">\r\n            <div class=\"col mb-2\">\r\n              <b-button\r\n                v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\r\n                variant=\"outline-primary\"\r\n                block\r\n                @click=\"googleSignIn\"\r\n              >\r\n                <img\r\n                  src=\"../assets/google-icon.svg\"\r\n                  width=\"18px\"\r\n                  rel=\"preload\"\r\n                />\r\n                <span class=\"ml-2\">Google</span>\r\n              </b-button>\r\n            </div>\r\n            <div class=\"col mb-2\">\r\n              <b-button\r\n                v-ripple.400=\"'rgba(113, 102, 240, 0.15)'\"\r\n                variant=\"outline-primary\"\r\n                block\r\n                @click=\"facebookSignIn\"\r\n              >\r\n                <img\r\n                  src=\"../assets/facebook-icon.svg\"\r\n                  width=\"18px\"\r\n                  rel=\"preload\"\r\n                />\r\n                <span class=\"ml-2\">Facebook</span>\r\n              </b-button>\r\n            </div>\r\n          </div>\r\n        </b-card>\r\n      </b-overlay>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebaseApp, { providerG, providerF } from \"../firebase/firebase_app\";\r\nimport { required, email } from \"../helper/validations\";\r\nimport Ripple from \"vue-ripple-directive\";\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport \"../assets/scss/style.scss\";\r\nimport icontoast from \"../components/toast.vue\";\r\n\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      emailVaue: \"\",\r\n      password: \"\",\r\n      status: \"\",\r\n      required,\r\n      email,\r\n      loading: false,\r\n    };\r\n  },\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n  },\r\n  directives: {\r\n    Ripple,\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.$refs.Rules.validate().then((success) => {\r\n        if (success) {\r\n          this.loading = true;\r\n          firebaseApp\r\n            .auth()\r\n            .signInWithEmailAndPassword(this.emailVaue, this.password)\r\n            .then((res) => {\r\n              const uid = res.user.uid;\r\n              this.loginGetData(uid);\r\n            })\r\n            .catch((err) => {\r\n              this.loading = false;\r\n              this.error();\r\n              console.log(err.message);\r\n            });\r\n        }\r\n      });\r\n    },\r\n    signUp() {\r\n      this.$router.push(\"/register\");\r\n    },\r\n    goHomePage() {\r\n      this.$router.replace(\"/\");\r\n    },\r\n    googleSignIn() {\r\n      this.loading = true;\r\n      firebaseApp\r\n        .auth()\r\n        .signInWithPopup(providerG)\r\n        .then((result) => {\r\n          var uidAuth = result.user.uid;\r\n          var authData = {\r\n            name: result.user.displayName,\r\n            email: result.user.email,\r\n            image: result.user.photoURL,\r\n            phone: result.user.phoneNumber ? result.user.phoneNumber : \"\",\r\n            signinWith: \"google\",\r\n            role: \"user\",\r\n            createAt: new Date(),\r\n            gender: \"\",\r\n            birthdate: \"\",\r\n            lineID : \"\",\r\n            address: {\r\n              name: \"\",\r\n              phone : \"\",\r\n              amphoe: \"\",\r\n              district: \"\",\r\n              houseNumber: \"\",\r\n              province: \"\",\r\n              road: \"\",\r\n              soy: \"\",\r\n              zipcode: \"\",\r\n            },\r\n          };\r\n\r\n          const usersRef = firebaseApp\r\n            .firestore()\r\n            .collection(\"users\")\r\n            .doc(uidAuth);\r\n\r\n          // เช็คว่ามีข้อมูลยัง\r\n          usersRef.get().then((docSnapshot) => {\r\n            if (docSnapshot.exists) {\r\n              this.loginGetData(uidAuth);\r\n            } else {\r\n              //บันทึกข้อมูล\r\n              usersRef.set(authData).then(() => {\r\n                this.loginGetData(uidAuth);\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n\r\n    facebookSignIn() {\r\n      this.loading = true;\r\n      firebaseApp\r\n        .auth()\r\n        .signInWithPopup(providerF)\r\n        .then((result) => {\r\n          var uidAuth = result.user.uid;\r\n          var authData = {\r\n            name: result.user.displayName,\r\n            email: result.user.email,\r\n            image: result.user.photoURL,\r\n            phone: result.user.phoneNumber ? result.user.phoneNumber : \"\",\r\n            signinWith: \"facebook\",\r\n            role: \"user\",\r\n            createAt: new Date(),\r\n            gender: \"\",\r\n            birthdate: \"\",\r\n            lineID : \"\",\r\n            address: {\r\n              name: \"\",\r\n              phone : \"\",\r\n              amphoe: \"\",\r\n              district: \"\",\r\n              houseNumber: \"\",\r\n              province: \"\",\r\n              road: \"\",\r\n              soy: \"\",\r\n              zipcode: \"\",\r\n            },\r\n          };\r\n\r\n          const usersRef = firebaseApp\r\n            .firestore()\r\n            .collection(\"users\")\r\n            .doc(uidAuth);\r\n\r\n          // เช็คว่ามีข้อมูลยัง\r\n          usersRef.get().then((docSnapshot) => {\r\n            if (docSnapshot.exists) {\r\n              this.loginGetData(uidAuth);\r\n            } else {\r\n              usersRef.set(authData).then(() => {\r\n                this.loginGetData(uidAuth);\r\n              });\r\n            }\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          console.log(err);\r\n        });\r\n    },\r\n    loginGetData(uid) {\r\n      const userRole = firebaseApp.firestore().doc(\"users/\" + uid);\r\n      return userRole\r\n        .get()\r\n        .then((res) => {\r\n          this.loading = false;\r\n          const data = res.data();\r\n          var userData = {\r\n            name: data.name,\r\n            role: data.role,\r\n            image: data.image ? data.image : \"\",\r\n          };\r\n          this.$store.commit(\"setUser\", userData);\r\n          window.localStorage.setItem(\"userData\", JSON.stringify(userData));\r\n\r\n          //เช็ค role\r\n          if (data.role == \"admin\") {\r\n            localStorage.setItem(\"userProfileImage\", userData.image);\r\n            this.$router.replace(\"/admin\").then(() => {\r\n              this.$toast(`ยินดีต้อนรับ ${userData.name}`, {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n                hideProgressBar: true,\r\n                timeout: 3000,\r\n                icon: icontoast,\r\n              });\r\n            });\r\n          } else {\r\n            localStorage.setItem(\"userProfileImage\", userData.image);\r\n            this.$router.replace(\"/\").then(() => {\r\n              this.$toast(`ยินดีต้อนรับ ${userData.name}`, {\r\n                position: \"top-right\",\r\n                closeOnClick: true,\r\n                hideProgressBar: true,\r\n                timeout: 3000,\r\n                icon: icontoast,\r\n              });\r\n            });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          this.error();\r\n          console.log(err.message);\r\n        });\r\n    },\r\n    error() {\r\n      this.$swal({\r\n        title: \"ผิดพลาด!\",\r\n        text: \" อีเมลหรือรหัสผ่านไม่ถูกต้อง\",\r\n        icon: \"error\",\r\n        confirmButtonText: \"ตกลง\",\r\n        width: \"500px\",\r\n        customClass: {\r\n          confirmButton: \"btn btn-primary\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=dc872d60&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/facebook-icon.1e80416a.svg\";","module.exports = __webpack_public_path__ + \"img/logoW.5b232f51.svg\";"],"sourceRoot":""}