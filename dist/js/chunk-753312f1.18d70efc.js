(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-753312f1"],{1362:function(t,a,e){"use strict";var s,o,i=e("1fca"),r={extends:i["c"],props:{data:{type:Object,default:null},options:{type:Object,default:null}},mounted(){this.renderChart(this.data,this.options)}},l=r,n=e("2877"),c=Object(n["a"])(l,s,o,!1,null,null,null);a["a"]=c.exports},"24d9":function(t,a,e){},5651:function(t,a,e){t.exports=e.p+"img/userDF.d961d73a.png"},"6ca7":function(t,a,e){t.exports=e.p+"img/badge.0fa134b5.svg"},"6cf2":function(t,a,e){"use strict";var s=e("1fca"),o=e("30ef"),i=e.n(o);i.a.elements.Rectangle.prototype.draw=function(){let t,a,e,s,o,i,r,l=this._chart.ctx,n=this._view,c=n.borderWidth,d=20;if(n.horizontal?(t=n.base,a=n.x,e=n.y-n.height/2,s=n.y+n.height/2,o=a>t?1:-1,i=1,r=n.borderSkipped||"left"):(t=n.x-n.width/2,a=n.x+n.width/2,e=n.y,s=n.base,o=1,i=e>s?1:-1,r=n.borderSkipped||"bottom"),c){let l=Math.min(Math.abs(t-a),Math.abs(e-s));c=c>l?l:c;let n=c/2,d=t+("left"!==r?n*o:0),m=a+("right"!==r?-n*o:0),h=e+("top"!==r?n*i:0),u=s+("bottom"!==r?-n*i:0);d!==m&&(e=h,s=u),h!==u&&(t=d,a=m)}l.beginPath(),l.fillStyle=n.backgroundColor,l.strokeStyle=n.borderColor,l.lineWidth=c;let m=[[t,s],[t,e],[a,e],[a,s]],h=["bottom","left","top","right"],u=h.indexOf(r,0);function p(t){return m[(u+t)%4]}-1===u&&(u=0);let f=p(0);l.moveTo(f[0],f[1]);for(let g=1;g<4;g++){f=p(g);let t=g+1;4==t&&(t=0);p(t);let a=m[2][0]-m[1][0],e=m[0][1]-m[1][1],s=m[1][0],o=m[1][1],i=d;i>e/2&&(i=e/2),i>a/2&&(i=a/2),n.horizontal?(l.moveTo(s+i,o),l.lineTo(s+a-i,o),l.quadraticCurveTo(s+a,o,s+a,o+i),l.lineTo(s+a,o+e-i),l.quadraticCurveTo(s+a,o+e,s+a-i,o+e),l.lineTo(s+i,o+e),l.quadraticCurveTo(s,o+e,s,o+e),l.lineTo(s,o+i),l.quadraticCurveTo(s,o,s,o)):(l.moveTo(s+i,o),l.lineTo(s+a-i,o),l.quadraticCurveTo(s+a,o,s+a,o+i),l.lineTo(s+a,o+e-i),l.quadraticCurveTo(s+a,o+e,s+a,o+e),l.lineTo(s+i,o+e),l.quadraticCurveTo(s,o+e,s,o+e),l.lineTo(s,o+i),l.quadraticCurveTo(s,o,s+i,o))}l.fill(),c&&l.stroke()};var r,l,n={extends:s["a"],props:{data:{type:Object,default:null},options:{type:Object,default:null}},mounted(){this.renderChart(this.data,this.options)}},c=n,d=e("2877"),m=Object(d["a"])(c,r,l,!1,null,null,null);a["a"]=m.exports},"7a4f":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"expandable-image",class:{expanded:t.expanded},on:{click:function(a){t.expanded=!0}}},[t.expanded?e("i",{staticClass:"close-button",on:{click:function(a){t.expanded=!1}}},[e("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[e("path",{attrs:{fill:"#666666",d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}})])]):e("i",{staticClass:"expand-button"},[e("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[e("path",{attrs:{fill:"#000000",d:"M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"}})])]),e("img",t._b({},"img",t.$attrs,!1))])},o=[],i={inheritAttrs:!1,name:"ExpandableImage",data(){return{expanded:!1}},methods:{closeImage(t){this.expanded=!1,t.stopPropagation()},freezeVp(t){t.preventDefault()}},watch:{expanded(t){this.$nextTick(()=>{t?(this.cloned=this.$el.cloneNode(!0),this.closeButtonRef=this.cloned.querySelector(".close-button"),this.closeButtonRef.addEventListener("click",this.closeImage),document.body.appendChild(this.cloned),document.body.style.overflow="hidden",setTimeout(()=>{this.cloned.style.opacity=1},0)):(this.cloned.style.opacity=0,setTimeout(()=>{this.closeButtonRef.removeEventListener("click",this.closeImage),this.cloned.remove(),this.cloned=null,this.closeButtonRef=null,document.body.style.overflow="auto"},250))})}}},r=i,l=(e("8b40"),e("2877")),n=Object(l["a"])(r,s,o,!1,null,null,null);a["a"]=n.exports},"8b40":function(t,a,e){"use strict";e("24d9")},"9a1c":function(t,a,e){"use strict";e.r(a);var s,o,i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{attrs:{id:"dashboard-ecommerce"}},[s("b-row",{staticClass:"match-height"},[s("b-col",{attrs:{xl:"4",md:"6"}},[s("b-card",{staticClass:"mb-4"},[s("h5",[t._v("รายได้เดือนนี้")]),s("b-card-text",{staticClass:"font-small-3"}),s("h3",{staticClass:"mb-3 mt-2 pt-50"},[s("span",{staticClass:"text-primary"},[t._v(t._s(t.incomeData)+" THB")])]),s("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"primary"},on:{click:t.inComePage}},[t._v(" ดูยอดขาย ")]),s("b-img",{staticClass:"congratulation-medal",attrs:{src:e("6ca7"),alt:"Medal Pic"}})],1)],1),s("b-col",{attrs:{xl:"8",md:"6"}},[s("b-card",{staticClass:"mb-4"},[s("h5",{staticClass:"mb-4"},[t._v("สถิติ")]),s("b-card-body",{staticClass:"statistics-body"},[s("b-row",t._l(t.statisticsItems,(function(a){return s("b-col",{key:a.icon,staticClass:"mb-2 mb-md-0",class:a.customClass,attrs:{lg:"3",md:"6",sm:"6"}},[s("b-media",{attrs:{"no-body":""}},[s("b-media-aside",{staticClass:"mr-2"},[s("b-avatar",{staticClass:"font20",attrs:{size:"50",variant:a.color}},[s("i",{class:a.icon})])],1),s("b-media-body",{staticClass:"my-auto"},[s("h6",{staticClass:"font-weight-bolder mb-0"},[t._v(" "+t._s(a.title)+" ")]),s("b-card-text",{staticClass:"font-small-3 mb-0"},[t._v(" "+t._s(a.subtitle)+" ")])],1)],1)],1)})),1)],1)],1)],1)],1),s("b-row",{staticClass:"match-height"},[s("b-col",{attrs:{lg:"4"}},[s("b-row",{staticClass:"match-height"},[s("b-col",{attrs:{lg:"6",md:"3",cols:"6"}},[s("b-card",{staticClass:"mb-4"},[s("h6",[t._v("รายได้วันนี้")]),0!=t.incomeToday?s("div",{staticClass:"text-center font-24 incomeToday mt-2"},[t._v(" +"+t._s(t.formatPrice(t.incomeToday))+" ")]):t._e(),0==t.incomeToday?s("div",{staticClass:"text-center font-35 incomeTodayZero mt-2"},[t._v(" 0 ")]):t._e(),s("div",{staticClass:"text-center mt-1"},[t._v("บาท")])])],1),s("b-col",{attrs:{lg:"6",md:"3",cols:"6"}},[s("b-card",{staticClass:"mb-4"},[s("h6",[t._v("ออเดอร์วันนี้")]),s("div",{staticClass:"text-center font-35 orderToday mt-2"},[t._v(" "+t._s(0!=t.orderToday?"+":"")+t._s(t.orderToday)+" ")]),s("div",{staticClass:"text-center mt-1"},[t._v("รายการ")])])],1),s("b-col",{attrs:{lg:"12",md:"6"}},[s("b-card",{staticClass:"mb-4"},[s("div",{staticClass:"d-flex d-between"},[s("h6",{staticClass:"mt-1"},[t._v("ออเดอร์ที่ได้รับ")]),s("span",{staticClass:"text-mute text-small mt-1"},[t._v("7 วันล่าสุด")]),s("div",{staticClass:"link-detail text-small",on:{click:t.lastOrder}},[s("b-button",{attrs:{size:"sm",variant:"outline-primary"}},[t._v(" เพิ่มเติม ")])],1)]),t.loadingOrderWeek?s("div",{staticClass:"p-2"},[s("vcl-facebook")],1):t._e(),t.loadingOrderWeek?t._e():s("div",[0!=this.lineChartSimple.series[0].data?s("vue-apex-charts",{attrs:{type:"line",height:"180",options:t.lineChartSimple.chartOptions,series:t.lineChartSimple.series}}):t._e()],1)])],1)],1)],1),s("b-col",{attrs:{lg:"8"}},[s("b-card",{staticClass:"mb-4"},[s("div",{staticClass:"d-flex d-between mb-3"},[s("h5",{staticClass:"mt-1"},[t._v("สินค้าขายดี")]),s("span",{staticClass:"text-mute mt-1"},[t._v(t._s(t.thisMonth))]),s("div",{staticClass:"link-detail text-small",on:{click:t.bestProductDetail}},[s("b-button",{attrs:{size:"sm",variant:"outline-primary"}},[t._v(" เพิ่มเติม ")])],1)]),t.loadingBestSale?s("div",{staticClass:"p-2"},[s("vcl-facebook")],1):t._e(),t.loadingBestSale?t._e():s("div",[0!=t.latestBarChart.data.labels.length?s("chartjs-component-bar-chart",{attrs:{height:350,data:t.latestBarChart.data,options:t.latestBarChart.options}}):t._e()],1)])],1)],1),s("b-row",{staticClass:"match-height"},[s("b-col",{attrs:{lg:"8"}},[s("b-card",{staticClass:"mb-4"},[s("div",{staticClass:"d-flex d-between mb-3"},[s("h5",{staticClass:"mt-1"},[t._v("คอมเมนต์ล่าสุด")]),s("div",{staticClass:"link-detail text-small",on:{click:t.readMoreComment}},[s("b-button",{attrs:{size:"sm",variant:"outline-primary"}},[t._v(" อ่านเพิ่มเติม ")])],1)]),t.loadingComment?s("div",{staticClass:"p-2"},[s("vcl-facebook")],1):t._e(),t.loadingComment?t._e():s("div",t._l(t.comments,(function(a,o){return s("div",{key:o,staticClass:"userList"},[s("div",{staticClass:"user-avatar"},[s("b-avatar",{attrs:{src:a.userProfile.image?a.userProfile.image:e("5651"),width:"40px"}}),s("span",{staticClass:"comm-name"},[t._v(" "+t._s(a.userProfile.name))])],1),s("div",{staticClass:"comment"},[s("div",{staticClass:"star"},[s("ul",{staticClass:"unstyled-list list-inline"},t._l(5,(function(t){return s("li",{key:t,staticClass:"ratings-list-item mr-25"},[s("i",{staticClass:"fa fa-star",class:[{"fill-current":t<=a.rating},t<=a.rating?"text-warning":"text-muted"]})])})),0)]),a.comment?s("div",{staticClass:"comm pb-3"},[t._v(" "+t._s(a.comment)+" ")]):t._e(),0!=a.moreImages.length?s("div",{staticClass:"comm-img d-flex pb-3"},t._l(a.moreImages,(function(t,a){return s("div",{key:a,staticClass:"mr-2 border"},[s("ExpandableImage",{staticClass:"md-image",attrs:{src:t}})],1)})),0):t._e(),s("div",{staticClass:"text-small text-mute"},[s("CalendarIcon",{staticClass:"mb-1 mr-1",attrs:{size:"16"}}),t._v(t._s(a.createAt)+" ")],1)]),o!=t.comments.length-1?s("hr"):t._e()])})),0)])],1),s("b-col",{attrs:{lg:"4",md:"6"}},[s("b-card",{staticClass:"mb-4"},[s("h5",[t._v("เข้าใช้งานด้วย")]),t.loadingSignIn?s("div",{staticClass:"p-2"},[s("vcl-facebook")],1):t._e(),t.loadingSignIn?t._e():s("div",[0!=t.doughnutChart.data.datasets[0].data.length?s("chartjs-component-doughnut-chart",{staticClass:"mb-3 mt-2",attrs:{height:175,data:t.doughnutChart.data,options:t.doughnutChart.options}}):t._e()],1),t._l(t.signInData,(function(a,e){return s("div",{key:a.platform,staticClass:"d-flex justify-content-between",class:e<t.signInData.length-1?"mb-1":""},[s("div",{staticClass:"d-flex align-items-center platform-icon"},[s("i",{staticClass:"mr-1",class:a.symbol,attrs:{color:a.color}}),s("span",{staticClass:"ml-75 mr-25"},[t._v(t._s(a.platform))])]),s("div",[s("span",{staticClass:"text-small"},[t._v(t._s(a.count)+"%")])])])}))],2)],1),s("b-col",{attrs:{lg:"4",md:"6"}},[s("b-card",{staticClass:"mb-4"},[s("div",{staticClass:"d-flex space-between"},[s("h6",{staticClass:"mt-1"},[t._v("บริษัทขนส่ง")]),s("div",{staticClass:"text-mute mt-1 text-small"},[t._v(t._s(t.thisMonth))]),s("div",{staticClass:"link-detail text-small",on:{click:t.logExpress}},[s("b-button",{attrs:{size:"sm",variant:"outline-primary"}},[t._v(" เพิ่มเติม ")])],1)]),t.loadingCompany?s("div",{staticClass:"p-2"},[s("vcl-facebook")],1):t._e(),t.loadingCompany?t._e():s("div",[s("div",{staticClass:"express-div mt-3"},[0!=t.horizontalBarChart.data.datasets[0].data.length?s("chartjs-component-horizontal-bar-chart",{attrs:{height:200,data:t.horizontalBarChart.data,options:t.horizontalBarChart.options}}):t._e()],1)])])],1),s("b-col",{attrs:{lg:"4",md:"6"}},[s("b-card",{staticClass:"mb-4"},[s("div",{staticClass:"d-flex space-between"},[s("h6",{staticClass:"mt-1"},[t._v("สินค้าที่มีคะแนนมากสุด")]),s("div",{staticClass:"link-detail text-small",on:{click:t.topRatePage}},[s("b-button",{attrs:{size:"sm",variant:"outline-primary"}},[t._v(" เพิ่มเติม ")])],1)]),t.loadingTopRate?s("div",{staticClass:"p-2"},[s("vcl-facebook")],1):t._e(),t.loadingTopRate?t._e():s("div",[t.topRate.name?s("div",{staticClass:"mt-2"},[s("div",{staticClass:"d-flex justify-content-center"},[s("ExpandableImage",{staticClass:"md-image",attrs:{src:t.topRate.image}})],1),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("div",[t._v(t._s(t.topRate.name))]),s("div",{staticClass:"productid"},[t._v(t._s(t.topRate.productID))]),s("div",{staticClass:"star"},[s("ul",{staticClass:"unstyled-list list-inline"},[t._l(5,(function(a){return s("li",{key:a,staticClass:"ratings-list-item mr-25"},[s("i",{staticClass:"fa fa-star",class:[{"fill-current":a<=t.topRate.ratingShow},a<=t.topRate.ratingShow?"text-warning":"text-muted"]})])})),s("span",{staticClass:"ml-2 mt-1 text-small"},[t._v(t._s(t.topRate.ratingShow)+"/5")])],2)])])])]):t._e()])])],1),s("b-col",{attrs:{lg:"4",md:"6"}},[s("b-card",{staticClass:"mb-4"},[s("div",{staticClass:"d-flex space-between"},[s("h6",{staticClass:"mt-1"},[t._v("Line Notification")]),s("div",{staticClass:"link-detail text-small",on:{click:t.lineNotifyPage}},[s("b-button",{attrs:{size:"sm",variant:"outline-primary"}},[t._v(" เพิ่มเติม ")])],1)]),t.loadingLineNoti?s("div",{staticClass:"p-2"},[s("vcl-facebook")],1):t._e(),t.loadingLineNoti?t._e():s("div",{staticClass:"mt-3"},t._l(t.lineMessage,(function(a,e){return s("div",{key:e,staticClass:"mb-3 border-message"},[s("div",{staticClass:"text-center mb-2"},[s("i",{staticClass:"fas fa-bell",attrs:{color:"gold"}}),s("span",{staticClass:"ml-1 mr-1 text-underline"},[t._v("มีการชำระออเดอร์เข้ามาใหม่")]),t._v(" "),s("b-badge",{staticClass:"status-cancle-style"},[t._v("new")])],1),s("div",{staticClass:"text-15"},[s("span",{staticClass:"bold"},[t._v("จากคุณ : ")]),t._v(t._s(a.name))]),s("div",{staticClass:"text-15"},[s("span",{staticClass:"bold"},[t._v("หมายเลขออเดอร์ : ")]),t._v(" "),s("span",{staticClass:"link-detail text-primary",on:{click:function(e){return t.gotoOrderDetail(a.orderID)}}},[t._v(t._s(a.orderID))])]),s("div",{staticClass:"text-15"},[s("span",{staticClass:"bold"},[t._v("จำนวนสินค้า : ")]),t._v(" "),s("span",{},[t._v(t._s(a.totalItem)+" รายการ")])]),s("div",{staticClass:"text-15"},[s("span",{staticClass:"bold"},[t._v("ราคาทั้งหมด : ")]),t._v(" "),s("span",{},[t._v(t._s(t.formatPrice(a.totalAll))+" บาท")])]),s("div",{staticClass:"text-15"},[s("span",{staticClass:"bold"},[t._v("ยินยันการชำระเมื่อ : ")]),s("CalendarIcon",{staticClass:"mb-1 mr-1",attrs:{size:"16"}}),t._v(t._s(t.formatDate(a.payon)))],1)])})),0)])],1)],1)],1)},r=[],l=e("e009"),n=e("28f7"),c=e("c1df"),d=e.n(c),m=e("0a35"),h=e("7a4f"),u=(e("78a7"),e("6cf2")),p=e("1362"),f=e("1fca"),g={extends:f["b"],props:{data:{type:Object,default:null},options:{type:Object,default:null}},mounted(){this.renderChart(this.data,this.options)}},C=g,b=e("2877"),v=Object(b["a"])(C,s,o,!1,null,null,null),y=v.exports,_=e("1321"),x=e.n(_),D=e("68ee");const Y={primaryColorShade:"#836AF9",yellowColor:"#93ff7d",successColorShade:"#28dac6",warningColorShade:"#ffe802",warningLightColor:"#FDAC34",infoColorShade:"#299AFF",greyColor:"#4F5D70",blueColor:"#2c9aff",blueLightColor:"#84D0FF",greyLightColor:"#EDF1F4",tooltipShadow:"rgba(0, 0, 0, 0.25)",lineChartPrimary:"#666ee8",lineChartDanger:"#ff4961",labelColor:"#6e6b7b",grid_line_color:"rgba(200, 200, 200, 0.2)"};var w={name:"dashboard",created(){this.loadInCome(),this.loadInComeToday(),this.loadStatistics(),this.loadComment(),this.loadBestSale(),this.loadOrderWeek(),this.loadSignInWith(),this.loadOrderTruckCom(),this.topRateProduct(),this.loadLineMessage()},components:{CalendarIcon:m["c"],ExpandableImage:h["a"],ChartjsComponentBarChart:u["a"],VueApexCharts:x.a,ChartjsComponentDoughnutChart:y,ChartjsComponentHorizontalBarChart:p["a"],VclFacebook:D["VclFacebook"]},directives:{Ripple:l["a"]},data(){return{loadingComment:!1,loadingBestSale:!1,loadingOrderWeek:!1,loadingSignIn:!1,loadingCompany:!1,loadingTopRate:!1,loadingLineNoti:!1,incomeData:0,lineMessage:[],statisticsItems:[{icon:"fa fa-truck-loading",color:"light-primary",title:"0",subtitle:"ออเดอร์",customClass:"mb-2 mb-xl-0"},{icon:"fa fa-cookie-bite",color:"light-info",title:"0",subtitle:"สินค้า",customClass:"mb-2 mb-xl-0"},{icon:"fa fa-newspaper",color:"light-danger",title:"0",subtitle:"รีวิวสินค้า",customClass:"mb-2 mb-sm-0"},{icon:"fa fa-users",color:"light-success",title:"0",subtitle:"ลูกค้า",customClass:""}],incomeToday:0,orderToday:0,thisMonth:"",comments:[],productExp:[],orderOver:[],topRate:{},signInData:[{platform:"Email",symbol:"fa fa-envelope",color:"#7367f0",percentage:80,count:0},{platform:"Google",symbol:"fab fa-google",color:"#ea4335",percentage:10,count:0},{platform:"Facebook",symbol:"fab fa-facebook-f",color:"#1877f2",percentage:10,count:0}],latestBarChart:{data:{labels:[],fullname:[],datasets:[{data:[],backgroundColor:Y.successColorShade,borderColor:"transparent"}]},options:{elements:{rectangle:{borderWidth:2,borderSkipped:"bottom"}},responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:500,legend:{display:!1},tooltips:{shadowOffsetX:1,shadowOffsetY:1,shadowBlur:8,shadowColor:Y.tooltipShadow,backgroundColor:"#f8f8f8",titleFontColor:"#111111",bodyFontColor:"#111111",callbacks:{title:function(t,a){return a["fullname"][t[0]["index"]]},label:function(t,a){return"ยอดขาย "+a["datasets"][0]["data"][t["index"]]+" ชิ้น"}}},scales:{xAxes:[{display:!0,gridLines:{display:!0,color:Y.grid_line_color,zeroLineColor:Y.grid_line_color},scaleLabel:{display:!1},ticks:{fontColor:Y.labelColor}}],yAxes:[{display:!0,gridLines:{color:Y.grid_line_color,zeroLineColor:Y.grid_line_color},ticks:{stepSize:100,min:0,max:200,fontColor:Y.labelColor}}]}}},lineChartSimple:{series:[{data:[]}],chartOptions:{chart:{zoom:{enabled:!1},toolbar:{show:!1}},markers:{strokeWidth:7,strokeOpacity:1,strokeColors:["#f8f8f8"],colors:["#faa152"]},colors:["#faa152"],dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{xaxis:{lines:{show:!0}}},tooltip:{custom(t){return`<div class="px-1 py-50"><span>${t.series[t.seriesIndex][t.dataPointIndex]} รายการ</span></div>`}},xaxis:{categories:[d()().subtract(6,"day").format("DD-MM"),d()().subtract(5,"day").format("DD-MM"),d()().subtract(4,"day").format("DD-MM"),d()().subtract(3,"day").format("DD-MM"),d()().subtract(2,"day").format("DD-MM"),d()().subtract(1,"day").format("DD-MM"),d()().format("DD-MM")]},yaxis:{}}},doughnutChart:{options:{responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:500,cutoutPercentage:60,legend:{display:!1},tooltips:{callbacks:{label(t,a){const e=a.datasets[0].labels[t.index]||"",s=a.datasets[0].data[t.index],o=` ${e} : ${s}`;return o}},shadowOffsetX:1,shadowOffsetY:1,shadowBlur:8,shadowColor:Y.tooltipShadow,backgroundColor:"#f8f8f8",titleFontColor:Y.greyColor,bodyFontColor:Y.greyColor}},data:{datasets:[{labels:[],data:[],backgroundColor:["#948bf4","rgb(255, 99, 132)","rgb(54, 162, 235)"],hoverOffset:4,borderWidth:4,hoverBorderColor:"#ffffff",pointStyle:"rectRounded"}]}},horizontalBarChart:{options:{elements:{rectangle:{borderWidth:2,borderSkipped:"top"}},tooltips:{shadowOffsetX:1,shadowOffsetY:1,shadowBlur:8,shadowColor:Y.tooltipShadow,backgroundColor:"#f8f8f8",titleFontColor:"#000000",bodyFontColor:"#000000"},responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:500,legend:{display:!1},scales:{xAxes:[{display:!0,gridLines:{zeroLineColor:Y.grid_line_color,borderColor:"transparent",color:Y.grid_line_color,drawTicks:!1},scaleLabel:{display:!0},ticks:{min:0,fontColor:Y.labelColor}}],yAxes:[{display:!0,gridLines:{display:!1},scaleLabel:{display:!0},ticks:{fontColor:Y.labelColor}}]}},data:{labels:["KerryExpress","FlashExpress","J&TExpress","ThailandPost"],datasets:[{data:[],backgroundColor:["#ffad4f","#E9FA00","#ff4d61","#7088ff"],borderColor:"transparent",barThickness:15}]}}}},methods:{loadInCome(){var t=d()().startOf("months").format("YYYY-MM"),a=d()(this.monthSelect).add(1,"month").format("YYYY-MM"),e=new Date(t),s=new Date(a);n["a"].firestore().collection("incomes").where("createAt",">=",e).where("createAt","<",s).get().then(t=>{var a=0;t.forEach(t=>{"cash-in"==t.data().status&&(a+=t.data().price)}),this.incomeData=this.formatPrice(a)}).catch(t=>{console.log(t)})},loadInComeToday(){var t=n["a"].firestore().collection("incomes"),a=d()().startOf("day").format("YYYY-MM-DD HH:mm"),e=d()().add(1,"days").startOf("day").format("YYYY-MM-DD HH:mm"),s=new Date(a),o=new Date(e);t.where("createAt",">=",s).where("createAt","<",o).get().then(t=>{var a=0;t.forEach(t=>{"cash-in"==t.data().status&&(a+=t.data().price)}),this.incomeToday=a}).catch(t=>{console.log(t)})},loadStatistics(){var t=n["a"].firestore().collection("orders"),a=d()().startOf("day").format("YYYY-MM-DD HH:mm"),e=d()().add(1,"days").startOf("day").format("YYYY-MM-DD HH:mm"),s=new Date(a),o=new Date(e);t.where("createAt",">=",s).where("createAt","<",o).get().then(t=>{this.orderToday=t.size}).catch(t=>{console.log(t)}),t.get().then(t=>{this.statisticsItems[0].title=this.formatPrice(t.size)}).catch(t=>{console.log(t)});var i=n["a"].firestore().collection("products");i.get().then(t=>{this.statisticsItems[1].title=this.formatPrice(t.size)}).catch(t=>{console.log(t)});var r=n["a"].firestore().collection("productReview");r.get().then(t=>{this.statisticsItems[2].title=this.formatPrice(t.size)}).catch(t=>{console.log(t)});var l=n["a"].firestore().collection("users");l.get().then(t=>{this.statisticsItems[3].title=this.formatPrice(t.size)}).catch(t=>{console.log(t)})},loadComment(){this.loadingComment=!0;const t=n["a"].firestore().collection("comments").orderBy("createAt","desc").limit(2);return t.get().then(t=>{var a=[];t.forEach(async t=>{var e={id:t.id,comment:t.data().comment,createAt:t.data().createAt?this.formatDate(t.data().createAt):"",moreImages:t.data().moreImages,orderIdRef:t.data().orderIdRef,productIdRef:t.data().productIdRef,rating:t.data().rating,userProfile:t.data().userProfile};a.push(e)}),this.comments=a,this.loadingComment=!1}).catch(t=>{console.log(t),this.loadingComment=!1})},loadOrderWeek(){this.loadingOrderWeek=!0;var t=n["a"].firestore().collection("orders"),a=d()().format("YYYY-MM-DD 23:59"),e=d()().subtract(7,"day").format("YYYY-MM-DD 00:00"),s=[d()().format("YYYY-MM-DD 00:00"),d()().subtract(1,"day").format("YYYY-MM-DD 00:00"),d()().subtract(2,"day").format("YYYY-MM-DD 00:00"),d()().subtract(3,"day").format("YYYY-MM-DD 00:00"),d()().subtract(4,"day").format("YYYY-MM-DD 00:00"),d()().subtract(5,"day").format("YYYY-MM-DD 00:00"),d()().subtract(6,"day").format("YYYY-MM-DD 00:00")],o=new Date(a),i=new Date(e);t.where("createAt","<=",o).where("createAt",">",i).get().then(t=>{var a=[0,0,0,0,0,0,0];t.forEach(t=>{s.forEach((e,s)=>{this.checkDateYMD(t.data().createAt)==e&&(a[s]=a[s]+1)})}),a.reverse(),this.lineChartSimple.series[0].data=a,this.loadingOrderWeek=!1}).catch(t=>{console.log(t),this.loadingOrderWeek=!1})},checkDateYMD(t){var a=t.toDate(),e=d()(a).format("YYYY-MM-DD 00:00");return e},loadBestSale(){this.loadingBestSale=!0,this.thisMonth=d()().startOf("months").format("MMMM YYYY");var t=n["a"].firestore().collection("orders"),a=d()().startOf("months").format("YYYY-MM HH:mm"),e=d()().add(1,"months").startOf("day").startOf("months").format("YYYY-MM HH:mm"),s=new Date(a),o=new Date(e);t.where("status","in",["เตรียมจัดส่ง","อยู่ระหว่างการจัดส่ง","จัดส่งแล้ว"]).where("createAt",">=",s).where("createAt","<",o).get().then(t=>{var a=[];t.forEach(t=>{t.data().items.forEach(t=>{a.push(t)})});var e=a.reduce((t,a)=>(t.some(t=>{if(t.id===a.id)return t.quantity=t.quantity+a.quantity,t.id===a.id})||t.push(a),t),[]);e.sort((t,a)=>parseFloat(t.quantity)-parseFloat(a.quantity)),e.reverse(),e=e.filter((t,a)=>a<10);for(var s=[],o=[],i=[],r=0;r<10;r++)e[r]?(s.push(e[r].productID),o.push(e[r].quantity),i.push(e[r].name)):(s.push("รหัสสินค้า"),o.push(0));if(o[0]<=10)var l=5;else o[0]>10&&o[0]<=100?l=10:o[0]>100&&o[0]<=1e3&&(l=100);var n=parseInt(o[0]/10,10)+10;this.latestBarChart.options.scales.yAxes[0].ticks.stepSize=l,this.latestBarChart.options.scales.yAxes[0].ticks.max=n,this.latestBarChart.data.labels=s,this.latestBarChart.data.fullname=i,this.latestBarChart.data.datasets[0].data=o,this.loadingBestSale=!1}).catch(t=>{console.log(t),this.loadingBestSale=!1})},loadSignInWith(){this.loadingSignIn=!0;var t=["Email","Google","Facebook"];this.doughnutChart.data.datasets[0].labels=t;var a=n["a"].firestore().doc("dashboard/yp6p65oDdQPdj4eiSYtS");a.get().then(t=>{var a=t.data().signInWith,e=a.email+a.google+a.facebook;this.doughnutChart.data.datasets[0].data[0]=a.email,this.doughnutChart.data.datasets[0].data[1]=a.google,this.doughnutChart.data.datasets[0].data[2]=a.facebook,this.signInData.map((t,a)=>{t.count=this.getPercen(this.doughnutChart.data.datasets[0].data[a],e)}),this.loadingSignIn=!1}).catch(t=>{console.log(t),this.loadingSignIn=!1})},loadOrderTruckCom(){this.loadingCompany=!0;var t=n["a"].firestore().collection("orders"),a=d()().startOf("months").format("YYYY-MM HH:mm"),e=d()().add(1,"months").startOf("day").startOf("months").format("YYYY-MM HH:mm"),s=new Date(a),o=new Date(e);t.where("status","in",["เตรียมจัดส่ง","อยู่ระหว่างการจัดส่ง","จัดส่งแล้ว"]).where("createAt",">=",s).where("createAt","<",o).get().then(t=>{var a=[];t.forEach(t=>{var e={company:t.data().deliverCompany,companyCount:1};a.push(e)});var e=a.reduce((t,a)=>(t.some(t=>{if(t.company===a.company)return t.companyCount=t.companyCount+a.companyCount,t.company===a.company})||t.push(a),t),[]),s=[0,0,0,0];e.map(t=>{"KerryExpress"==t.company?s[0]=s[0]+t.companyCount:"FlashExpress"==t.company?s[1]=s[1]+t.companyCount:"J&TExpress"==t.company?s[2]=s[2]+t.companyCount:"ThailandPost"==t.company&&(s[3]=s[3]+t.companyCount)}),this.horizontalBarChart.data.datasets[0].data=s,this.loadingCompany=!1}).catch(t=>{console.log(t),this.loadingCompany=!1})},topRateProduct(){this.loadingTopRate=!0;const t=n["a"].firestore().collection("products");t.orderBy("rating","desc").get().then(t=>{var a=[];t.forEach(t=>{var e=t.data().rating,s=t.data().ratingCount;if(0!=e){var o={image:t.data().image,name:t.data().name,productID:t.data().productID,ratingShow:parseFloat(this.calStar(e,s))};a.push(o)}}),a.sort((t,a)=>parseFloat(t.ratingShow)-parseFloat(a.ratingShow)),a.reverse(),a[0].ratingShow=a[0].ratingShow.toString(),this.topRate=a[0],this.loadingTopRate=!1}).catch(t=>{console.log(t),this.loadingTopRate=!1})},calStar(t,a){return(t/a).toFixed(1)},getPercen(t,a){return(100*t/a).toFixed(1)},formatPrice(t){let a=(t/1).toFixed(0);return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},formatNormalDate(t){var a=t.toDate(),e=d()(a).format("DD-MM-YYYY");return e},formatDate(t){var a=t.toDate(),e=d()(a).format("DD-MM-YYYY HH:mm");return e},loadLineMessage(){this.loadingLineNoti=!0;const t=n["a"].firestore().collection("oders");t.orderBy("payon","desc").limit(1).get().then(t=>{var a=[];t.forEach(t=>{a.push(t.data())}),this.lineMessage=a,this.loadingLineNoti=!1}).catch(t=>{console.log(t),this.loadingLineNoti=!1})},lineNotifyPage(){this.$router.push("lineNotify")},readMoreComment(){this.$router.push("comments")},inComePage(){this.$router.push("income")},bestProductDetail(){this.$router.push("best-sale")},lastOrder(){this.$router.push("last-order")},logExpress(){this.$router.push("best-delivery")},topRatePage(){this.$router.push("top-rate")},gotoOrderDetail(t){var a=n["a"].firestore().collection("orders");a.where("orderID","==",t).get().then(t=>{var a=t.docs[0].id;a&&this.$router.push("/admin/order/"+a)})}}},k=w,M=(e("e6c2"),Object(b["a"])(k,i,r,!1,null,null,null));a["default"]=M.exports},bc27:function(t,a,e){},e6c2:function(t,a,e){"use strict";e("bc27")}}]);
//# sourceMappingURL=chunk-753312f1.18d70efc.js.map