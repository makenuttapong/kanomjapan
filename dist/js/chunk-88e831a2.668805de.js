(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88e831a2"],{"3df7":function(e,a,t){"use strict";var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("b-card",[t("div",{staticClass:"d-flex align-items-center mb-2"},[t("h4",{staticClass:"mb-4 ml-75"},[t("i",{staticClass:"fa fa-lock",attrs:{size:"18",color:"#7367f0"}}),e._v(" เปลี่ยนรหัสผ่าน ")])]),t("validation-observer",{ref:"Rules"},[t("b-form",{on:{submit:function(a){return a.preventDefault(),e.confirmPass(a)}}},[t("b-row",[t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{label:"รหัสผ่านเดิม","label-for":"account-old-password"}},[t("ValidationProvider",{attrs:{name:"Oldpassword",vid:"Oldpassword",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return[t("b-form-input",{attrs:{id:"account-old-password",name:"old-password",type:"password",state:!(s.length>0)&&null,placeholder:"กรอกรหัสผ่านเดิม"},model:{value:e.oldpass,callback:function(a){e.oldpass=a},expression:"oldpass"}}),t("small",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}])})],1)],1)],1),t("b-row",[t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"account-new-password",label:"รหัสผ่านใหม่"}},[t("ValidationProvider",{attrs:{name:"Password",vid:"Password",rules:"required|min:8"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return[t("b-form-input",{attrs:{id:"account-new-password",type:"password",state:!(s.length>0)&&null,name:"new-password",placeholder:"กรอกรหัสผ่านใหม่"},model:{value:e.newpass,callback:function(a){e.newpass=a},expression:"newpass"}}),t("small",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}])})],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"account-retype-new-password",label:"ยืนยันรหัสผ่านใหม่"}},[t("ValidationProvider",{attrs:{name:"Confirm Password",rules:"required|confirmed:Password"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return[t("b-form-input",{attrs:{id:"account-retype-new-password",type:"password",name:"retype-password",state:!(s.length>0)&&null,placeholder:"กรอกรหัสผ่านใหม่อีกครั้ง"},model:{value:e.newrepass,callback:function(a){e.newrepass=a},expression:"newrepass"}}),t("small",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}])})],1)],1),t("b-col",{attrs:{cols:"12"}},[t("b-button",{staticClass:"mt-1 mr-1",attrs:{type:"submit",variant:"primary"}},[e._v(" บันทึก ")]),t("b-button",{staticClass:"mt-1",attrs:{variant:"outline-primary"},on:{click:e.resetPassInput}},[e._v(" รีเซต ")])],1)],1)],1)],1)],1)},o=[],r=t("7bb1"),i=t("ae39"),d=t("28f7"),l={name:"changePassword",data(){return{oldpass:"",newpass:"",newrepass:"",required:i["b"]}},components:{ValidationProvider:r["b"],ValidationObserver:r["a"]},methods:{confirmPass(){this.$refs.Rules.validate().then(e=>{if(e){var a=d["a"].auth().currentUser;d["a"].auth().signInWithEmailAndPassword(a.email,this.oldpass).then(()=>{a.updatePassword(this.newpass).then(()=>{this.success(),this.resetPassInput()}).catch(e=>{this.error(),console.log(e)})}).catch(e=>{this.error(),console.log(e)})}})},resetPassInput(){this.oldpass="",this.newpass="",this.newrepass="",this.$refs.Rules.reset()},signOut(){this.$store.dispatch("changePage",0),d["a"].auth().signOut().then(()=>{this.$router.replace("/"),this.$store.commit("setUser",{}),window.localStorage.setItem("userData",{}),localStorage.setItem("userProfileImage","")}).catch(e=>{console.log(e)})},success(){this.$swal({title:"สำเร็จ!",text:"เปลี่ยนรหัสผ่านสำเร็จ",icon:"success",confirmButtonText:"ตกลง",width:"500px",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1}).then(()=>{this.signOut()})},error(){this.$swal({title:"ผิดพลาด!",text:"รหัสผ่านไม่ถูกต้อง",icon:"error",confirmButtonText:"ตกลง",width:"500px",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}},n=l,c=t("2877"),m=Object(c["a"])(n,s,o,!1,null,null,null);a["a"]=m.exports},5651:function(e,a,t){e.exports=t.p+"img/userDF.d961d73a.png"},"7c99":function(e,a,t){"use strict";t("8cbd")},8603:function(e,a,t){},"868f":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"pb-4"},[t("b-tabs",{attrs:{vertical:"","content-class":"col-12 col-md-9 mt-1 mt-md-0",pills:"","nav-wrapper-class":"col-md-3 col-12"}},[t("b-tab",{attrs:{active:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("i",{staticClass:"fa fa-user mr-2",attrs:{size:"18"}}),t("span",{staticClass:"f-500"},[e._v("ข้อมูลทั่วไป")])]},proxy:!0}])},[t("General",{attrs:{data:e.userProfile,loading:e.loading},on:{newData:e.saveNewDataGeneral}})],1),t("b-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[t("i",{staticClass:"fa fa-map-marker-alt mr-2",attrs:{size:"18"}}),t("span",{staticClass:"f-500"},[e._v("ข้อมูลที่อยู่")])]},proxy:!0}])},[t("Address",{attrs:{data:e.userProfile,loading:e.loading},on:{newData:e.saveNewDataAddress}})],1),"email"==e.userProfile.signinWith?t("b-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[t("i",{staticClass:"fa fa-lock mr-2",attrs:{size:"18"}}),t("span",{staticClass:"f-500"},[e._v("เปลี่ยนรหัสผ่าน")])]},proxy:!0}],null,!1,1364825812)},[t("ChangePassword")],1):e._e()],1)],1)},o=[],r=t("28f7"),i=t("88c2"),d=t("3df7"),l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("b-card",[e.loading?t("div",{staticClass:"p-2"},[t("vcl-facebook")],1):e._e(),e.loading?e._e():t("div",[t("b-form",[t("b-row",[t("b-col",{attrs:{cols:"12"}},[t("div",{staticClass:"d-flex align-items-center mb-2"},[t("h4",{staticClass:"mb-4 ml-75"},[t("i",{staticClass:"fa fa-map-marker-alt",attrs:{size:"18",color:"#7367f0"}}),e._v(" ที่อยู่ในการจัดส่ง ")])])]),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"fullname",label:"ชื่อ-สกุล (ผู้รับ)"}},["edit"==e.mode?t("b-form-input",{attrs:{id:"fullname",placeholder:"กรอกชื่อ-สกุล (ผู้รับ)",autocomplete:"off"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"fullname",disabled:""},model:{value:e.data.address.name,callback:function(a){e.$set(e.data.address,"name",a)},expression:"data.address.name"}}):e._e()],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"phone",label:"เบอร์โทรศัพท์"}},["edit"==e.mode?t("b-input-group",[t("cleave",{staticClass:"form-control",attrs:{id:"phone",raw:!1,options:e.optionsMark.phoneNumber,placeholder:"08x xxx xxxx"},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}})],1):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"phone",disabled:""},model:{value:e.data.address.phone,callback:function(a){e.$set(e.data.address,"phone",a)},expression:"data.address.phone"}}):e._e()],1)],1),t("b-col",{attrs:{md:"3"}},[t("b-form-group",{attrs:{"label-for":"houseNumber",label:"บ้านเลขที่"}},["edit"==e.mode?t("b-form-input",{attrs:{id:"houseNumbers",placeholder:"กรอกบ้านเลขที่",autocomplete:"off"},model:{value:e.houseNumber,callback:function(a){e.houseNumber=a},expression:"houseNumber"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"houseNumber",disabled:""},model:{value:e.data.address.houseNumber,callback:function(a){e.$set(e.data.address,"houseNumber",a)},expression:"data.address.houseNumber"}}):e._e()],1)],1),t("b-col",{attrs:{md:"3"}},[t("b-form-group",{attrs:{"label-for":"soy",label:"ซอย"}},["edit"==e.mode?t("b-form-input",{attrs:{id:"soys",placeholder:"กรอกซอย",autocomplete:"off"},model:{value:e.soy,callback:function(a){e.soy=a},expression:"soy"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"soy",disabled:""},model:{value:e.data.address.soy,callback:function(a){e.$set(e.data.address,"soy",a)},expression:"data.address.soy"}}):e._e()],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"road",label:"ถนน"}},["edit"==e.mode?t("b-form-input",{attrs:{id:"roads",placeholder:"กรอกชื่อถนน",autocomplete:"off"},model:{value:e.road,callback:function(a){e.road=a},expression:"road"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"road",disabled:""},model:{value:e.data.address.road,callback:function(a){e.$set(e.data.address,"road",a)},expression:"data.address.road"}}):e._e()],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"district",label:"ตำบล/แขวง"}},["edit"==e.mode?t("ThailandAutoComplete",{attrs:{type:"district",color:"#7367f0",size:"default",placeholder:"ตำบล/แขวง"},on:{select:e.select},model:{value:e.district,callback:function(a){e.district=a},expression:"district"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"district",disabled:""},model:{value:e.data.address.district,callback:function(a){e.$set(e.data.address,"district",a)},expression:"data.address.district"}}):e._e()],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"amphoe",label:"อำเภอ/เขต"}},["edit"==e.mode?t("ThailandAutoComplete",{attrs:{type:"amphoe",size:"default",color:"#7367f0",placeholder:"อำเภอ/เขต"},on:{select:e.select},model:{value:e.amphoe,callback:function(a){e.amphoe=a},expression:"amphoe"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"amphoe",disabled:""},model:{value:e.data.address.amphoe,callback:function(a){e.$set(e.data.address,"amphoe",a)},expression:"data.address.amphoe"}}):e._e()],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"province",label:"จังหวัด"}},["edit"==e.mode?t("ThailandAutoComplete",{attrs:{type:"province",size:"default",color:"#7367f0",placeholder:"จังหวัด"},on:{select:e.select},model:{value:e.province,callback:function(a){e.province=a},expression:"province"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"province",disabled:""},model:{value:e.data.address.province,callback:function(a){e.$set(e.data.address,"province",a)},expression:"data.address.province"}}):e._e()],1)],1),t("b-col",{attrs:{md:"6"}},[t("b-form-group",{attrs:{"label-for":"zipcode",label:"รหัสไปรษณีย์"}},["edit"==e.mode?t("ThailandAutoComplete",{attrs:{type:"zipcode",size:"default",color:"#7367f0",placeholder:"รหัสไปรษณีย์"},on:{select:e.select},model:{value:e.zipcode,callback:function(a){e.zipcode=a},expression:"zipcode"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{id:"zipcode",disabled:""},model:{value:e.data.address.zipcode,callback:function(a){e.$set(e.data.address,"zipcode",a)},expression:"data.address.zipcode"}}):e._e()],1)],1),"show"==e.mode?t("b-col",{attrs:{cols:"12"}},[t("b-button",{staticClass:"mt-1 mr-1",attrs:{variant:"primary"},on:{click:e.changeMode}},[e._v(" แก้ไข ")])],1):e._e(),"edit"==e.mode?t("b-col",{attrs:{cols:"12"}},[t("b-button",{staticClass:"mt-1 mr-1",attrs:{variant:"primary"},on:{click:e.saveData}},[e._v(" ยืนยัน ")]),t("b-button",{staticClass:"mt-1 ml-25",attrs:{type:"reset",variant:"outline-primary"},on:{click:e.changeMode}},[e._v(" ยกเลิก ")])],1):e._e()],1)],1)],1)])},n=[],c=t("68ee"),m=t("2083"),p=t.n(m),u=(t("b15d"),{name:"AddressPage",props:["data","loading"],components:{VclFacebook:c["VclFacebook"],Cleave:p.a},data(){return{optionsMark:{phoneNumber:{phone:!0,phoneRegionCode:"TH",delimiter:"-"}},mode:"show",name:"",phone:"",road:"",soy:"",houseNumber:"",district:"",amphoe:"",province:"",zipcode:""}},methods:{select(e){this.district=e.district,this.amphoe=e.amphoe,this.province=e.province,this.zipcode=e.zipcode},saveData(){var e={name:this.name,phone:this.phone,road:this.road,soy:this.soy,houseNumber:this.houseNumber,district:this.district,amphoe:this.amphoe,province:this.province,zipcode:this.zipcode};this.$emit("newData",e),this.changeMode()},changeMode(){this.name=this.data.address.name,this.phone=this.data.address.phone,this.road=this.data.address.road,this.soy=this.data.address.soy,this.houseNumber=this.data.address.houseNumber,this.district=this.data.address.district,this.amphoe=this.data.address.amphoe,this.province=this.data.address.province,this.zipcode=this.data.address.zipcode,this.mode="show"==this.mode?"edit":"show"}}}),h=u,f=(t("f36a"),t("2877")),b=Object(f["a"])(h,l,n,!1,null,"63c43771",null),v=b.exports,g=(t("78a7"),t("c1df")),w=t.n(g),_=t("5651"),k=t.n(_),x={name:"profile",components:{General:i["a"],ChangePassword:d["a"],Address:v},data(){return{imageDF:k.a,loading:!1,userProfile:{signinWith:"",email:"",name:"",phone:"",gender:"",birthdate:"",lineID:"",address:{name:"",phone:"",district:"",amphoe:"",province:"",zipcode:"",road:"",soy:"",houseNumber:""}}}},created(){this.loadProfile()},methods:{loadProfile(){this.loading=!0;const e=r["a"].auth().currentUser,a=r["a"].firestore().doc("users/"+e.uid);return a.get().then(e=>{var a={uid:e.id,signinWith:e.data().signinWith,email:e.data().email,name:e.data().name,phone:e.data().phone?e.data().phone:"",gender:e.data().gender?e.data().gender:"",image:e.data().image?e.data().image:"",lineID:e.data().lineID,birthdate:e.data().birthdate?this.formatDate(e.data().birthdate):"",address:{name:e.data().address.name?e.data().address.name:"",phone:e.data().address.phone?e.data().address.phone:"",district:e.data().address.district?e.data().address.district:"",amphoe:e.data().address.amphoe?e.data().address.amphoe:"",province:e.data().address.province?e.data().address.province:"",zipcode:e.data().address.zipcode?e.data().address.zipcode:"",road:e.data().address.road?e.data().address.road:"",houseNumber:e.data().address.houseNumber?e.data().address.houseNumber:"",soy:e.data().address.soy?e.data().address.soy:""}};this.loading=!1,this.userProfile=a})},formatDate(e){var a=e.toDate(),t=w()(a).format("DD-MM-YYYY");return t},saveNewDataAddress(e){this.loading=!0;var a={address:{name:e.name,phone:e.phone,district:e.district,amphoe:e.amphoe,province:e.province,zipcode:e.zipcode,road:e.road,soy:e.soy,houseNumber:e.houseNumber}};const t=r["a"].firestore().doc("users/"+this.userProfile.uid);t.update(a).then(()=>{this.loading=!1,this.$toast.success("แก้ไขข้อมูลเรียบร้อย",{position:"top-right",closeOnClick:!0,hideProgressBar:!0,timeout:3e3,icon:"fa fa-check-circle"}),this.loadProfile()}).catch(e=>{this.loading=!1,this.$toast.error("แก้ไขข้อมูลไม่สำเร็จ",{position:"top-right",closeOnClick:!0,hideProgressBar:!0,timeout:3e3,icon:"fa fa-exclamation-triangle"}),console.log(e)})},saveNewDataGeneral(e){this.loading=!0;var a={image:e.image,name:e.name,phone:e.phone,gender:e.gender,birthdate:"",lineID:e.lineID};if(e.date){var t=w()(e.date,"DD/MM/YYYY"),s=w()(t).format("MM/DD/YYYY"),o=new Date(Date.parse(s));a.birthdate=o}this.updateProfile(a)},updateProfile(e){localStorage.setItem("userProfileImage",e.image);var a={name:e.name,role:"user",image:e.image?e.image:""};localStorage.setItem("userData",JSON.stringify(a));const t=r["a"].firestore().doc("users/"+this.userProfile.uid);t.update(e).then(()=>{this.loading=!1,this.$toast.success("แก้ไขข้อมูลเรียบร้อย",{position:"top-right",closeOnClick:!0,hideProgressBar:!0,timeout:3e3,icon:"fa fa-check-circle"});var a=document.querySelector("#fullSidebar >span > img");a.src=localStorage.getItem("userProfileImage")?localStorage.getItem("userProfileImage"):k.a;var t=document.querySelector("#fullName");t.innerHTML=e.name,this.loadProfile()}).catch(e=>{this.loading=!1,this.$toast.error("แก้ไขข้อมูลไม่สำเร็จ",{position:"top-right",closeOnClick:!0,hideProgressBar:!0,timeout:3e3,icon:"fa fa-exclamation-triangle"}),console.log(e)})}}},y=x,C=Object(f["a"])(y,s,o,!1,null,null,null);a["default"]=C.exports},"88c2":function(e,a,t){"use strict";var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("b-card",[e.loading?t("div",{staticClass:"p-2"},[t("vcl-facebook")],1):e._e(),e.loading?e._e():t("div",[t("div",{staticClass:"d-flex align-items-center mb-2"},[t("h4",{staticClass:"mb-4 ml-75"},[t("i",{staticClass:"fa fa-user",attrs:{size:"18",color:"#7367f0"}}),e._v(" ข้อมูลส่วนตัว ")])]),t("validation-observer",{ref:"Rules"},[t("b-form",{staticClass:"mt-2"},[t("b-row",[t("b-col",{attrs:{sm:"12"}},[t("b-form-group",{attrs:{label:"รูป"}},[t("b-media",{staticClass:"editImage",attrs:{"no-body":""}},[t("b-media-aside",["edit"==e.mode?t("b-avatar",{ref:"previewEl",staticClass:"img-avatar edit",attrs:{src:e.preview?e.preview:e.imageDF}}):e._e(),"show"==e.mode?t("b-avatar",{staticClass:"img-avatar edit",attrs:{src:e.data.image?e.data.image:e.imageDF}}):e._e()],1),"edit"==e.mode?t("b-media-body",{staticClass:"mt-75 ml-75 imageUp"},[t("b-button",{staticClass:"mb-75 mr-75",attrs:{variant:"primary",size:"sm"},on:{click:function(a){return e.$refs.refInputEl.$el.click()}}},[e._v(" อัปโหลด ")]),t("b-form-file",{ref:"refInputEl",attrs:{accept:".jpg, .png, .gif",hidden:!0,plain:""},on:{input:e.pickFile}}),t("b-card-text",{staticClass:"font14 mt-1"},[e._v("รูปภาพขนาดไม่เกิน 0.8 mb")])],1):e._e()],1)],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{label:"ชื่อ","label-for":"account-name"}},[t("ValidationProvider",{attrs:{name:"Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(a){var s=a.errors;return["edit"==e.mode?t("b-form-input",{attrs:{state:!(s.length>0)&&null,placeholder:"กรอกชื่อ",name:"name",autocomplete:"off"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}}):e._e(),t("small",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]}}],null,!1,945424339)}),"show"==e.mode?t("b-form-input",{attrs:{disabled:""},model:{value:e.data.name,callback:function(a){e.$set(e.data,"name",a)},expression:"data.name"}}):e._e()],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{label:"อีเมล","label-for":"account-e-mail"}},[t("b-form-input",{attrs:{disabled:""},model:{value:e.data.email,callback:function(a){e.$set(e.data,"email",a)},expression:"data.email"}})],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{label:"เพศ","label-for":"account-gender"}},["edit"==e.mode?t("b-form-select",{attrs:{name:"gender",options:e.options,placeholder:"เลือกเพศ",autocomplete:"off"},model:{value:e.form.gender,callback:function(a){e.$set(e.form,"gender",a)},expression:"form.gender"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{disabled:""},model:{value:e.data.gender,callback:function(a){e.$set(e.data,"gender",a)},expression:"data.gender"}}):e._e()],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{label:"วันเกิด","label-for":"account-birthdate"}},["edit"==e.mode?t("date-picker",{attrs:{valueType:"format",format:"DD-MM-YYYY"},model:{value:e.form.date,callback:function(a){e.$set(e.form,"date",a)},expression:"form.date"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{disabled:""},model:{value:e.data.birthdate,callback:function(a){e.$set(e.data,"birthdate",a)},expression:"data.birthdate"}}):e._e()],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{label:"เบอร์โทรศัพท์","label-for":"account-phone"}},["edit"==e.mode?t("b-input-group",[t("cleave",{staticClass:"form-control",attrs:{id:"phone",raw:!1,options:e.optionsMark.phoneNumber,placeholder:"08x xxx xxxx"},model:{value:e.form.phone,callback:function(a){e.$set(e.form,"phone",a)},expression:"form.phone"}})],1):e._e(),"show"==e.mode?t("b-form-input",{attrs:{disabled:""},model:{value:e.data.phone,callback:function(a){e.$set(e.data,"phone",a)},expression:"data.phone"}}):e._e()],1)],1),t("b-col",{attrs:{sm:"6"}},[t("b-form-group",{attrs:{label:"Line ID","label-for":"line-id"}},["edit"==e.mode?t("b-form-input",{attrs:{name:"LineID",placeholder:"กรอก Line ID",autocomplete:"off"},model:{value:e.form.lineID,callback:function(a){e.$set(e.form,"lineID",a)},expression:"form.lineID"}}):e._e(),"show"==e.mode?t("b-form-input",{attrs:{disabled:""},model:{value:e.data.lineID,callback:function(a){e.$set(e.data,"lineID",a)},expression:"data.lineID"}}):e._e()],1)],1),t("b-col",{attrs:{cols:"12"}},["show"==e.mode?t("b-button",{staticClass:"mt-2 mr-1",attrs:{variant:"primary"},on:{click:e.changeMode}},[e._v(" แก้ไข ")]):e._e(),"edit"==e.mode?t("b-button",{staticClass:"mt-2 mr-1",attrs:{variant:"primary"},on:{click:e.saveData}},[e._v(" ยืนยัน ")]):e._e(),"edit"==e.mode?t("b-button",{staticClass:"mt-2 mr-1",attrs:{variant:"outline-primary"},on:{click:e.changeMode}},[e._v(" ยกเลิก ")]):e._e()],1)],1)],1)],1)],1)])},o=[],r=t("7bb1"),i=t("ae39"),d=t("68ee"),l=t("5651"),n=t.n(l),c=t("2083"),m=t.n(c),p=(t("b15d"),{name:"general",props:["data","loading"],components:{ValidationProvider:r["b"],ValidationObserver:r["a"],VclFacebook:d["VclFacebook"],Cleave:m.a},data(){return{imageDF:n.a,mode:"show",required:i["b"],preview:"",optionsMark:{phoneNumber:{phone:!0,phoneRegionCode:"TH",delimiter:"-"}},options:[{value:"ชาย",text:"ชาย"},{value:"หญิง",text:"หญิง"}],form:{name:"",phone:null,date:"",gender:"",image:""}}},methods:{changeMode(){this.form={name:this.data.name,phone:this.data.phone,gender:this.data.gender,date:this.data.birthdate,image:this.data.image,lineID:this.data.lineID},this.preview=this.data.image,this.$refs.Rules.reset(),this.mode="show"==this.mode?"edit":"show"},saveData(){this.$refs.Rules.validate().then(e=>{e&&(this.$emit("newData",this.form),this.changeMode())})},pickFile(){let e=this.$refs.refInputEl,a=e.files;if(this.fileUpload=a[0],this.fileUpload.size<8e5&&a&&a[0]){let e=new FileReader;e.onload=e=>{this.preview=e.target.result,this.form.image=e.target.result},e.readAsDataURL(a[0])}}}}),u=p,h=(t("7c99"),t("2877")),f=Object(h["a"])(u,s,o,!1,null,null,null);a["a"]=f.exports},"8cbd":function(e,a,t){},f36a:function(e,a,t){"use strict";t("8603")}}]);
//# sourceMappingURL=chunk-88e831a2.668805de.js.map