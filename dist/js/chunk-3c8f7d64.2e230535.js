(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c8f7d64"],{"308f":function(s,t,e){s.exports=e.p+"img/reset-done.62537b04.svg"},"9eb6":function(s,t,e){"use strict";e.r(t);var r=function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"auth-wrapper auth-v1 px-2"},[r("div",{staticClass:"auth-inner py-2"},[r("b-overlay",{staticClass:"setOverlay",attrs:{show:s.loading,rounded:"sm"}},[s.successReset?s._e():r("b-card",{staticClass:"mb-0"},[r("div",{staticClass:"brand-logo text-center"},[r("img",{attrs:{src:e("f12d"),width:"90px"},on:{click:s.goHomePage}})]),r("b-card-title",{staticClass:"mb-1 center"},[s._v(" รีเซตรหัสผ่าน ")]),r("validation-observer",{ref:"simpleRules"},[r("b-form",{staticClass:"auth-reset-password-form mt-2",attrs:{method:"POST"},on:{submit:function(t){return t.preventDefault(),s.submit(t)}}},[r("b-form-group",{attrs:{label:"รหัสผ่านใหม่","label-for":"reset-password-new"}},[r("validation-provider",{attrs:{name:"Password",vid:"Password",rules:"required|min:8"},scopedSlots:s._u([{key:"default",fn:function(t){var e=t.errors;return[r("b-form-input",{staticClass:"form-control-merge",attrs:{id:"reset-password-new",type:"password",state:!(e.length>0)&&null,name:"reset-password-new",placeholder:"กรอกรหัสผ่านใหม่"},model:{value:s.password,callback:function(t){s.password=t},expression:"password"}}),r("small",{staticClass:"text-danger"},[s._v(s._s(e[0]))])]}}],null,!1,3170088457)})],1),r("b-form-group",{attrs:{"label-for":"reset-password-confirm",label:"ยืนยันรหัสผ่าน"}},[r("validation-provider",{attrs:{name:"Confirm Password",rules:"required|confirmed:Password"},scopedSlots:s._u([{key:"default",fn:function(t){var e=t.errors;return[r("b-form-input",{staticClass:"form-control-merge",attrs:{id:"reset-password-confirm",type:"password",state:!(e.length>0)&&null,name:"reset-password-confirm",placeholder:"กรอกรหัสผ่านใหม่อีกครั้ง"},model:{value:s.password2,callback:function(t){s.password2=t},expression:"password2"}}),r("small",{staticClass:"text-danger"},[s._v(s._s(e[0]))])]}}],null,!1,4119753018)})],1),r("b-button",{attrs:{block:"",type:"submit",variant:"primary"}},[s._v(" รีเซตรหัสผ่าน ")])],1)],1)],1),s.successReset?r("b-card",{staticClass:"mb-0"},[r("div",{staticClass:"img-done center"},[r("img",{attrs:{src:e("308f"),width:"300px"}}),r("div",{staticClass:"mt-4"},[r("b-link",{on:{click:s.goHome}},[s._v("กลับไปยังหน้าเข้าสู่ระบบ ")])],1)])]):s._e()],1)],1)])},o=[],a=e("28f7"),i=e("7bb1"),n=e("ae39"),l=(e("78a7"),{name:"resetPass",components:{ValidationProvider:i["b"],ValidationObserver:i["a"]},data(){return{password:"",password2:"",successReset:!1,required:n["b"],email:n["a"],loading:!1,mode:"",oobCode:"",apikey:"",lang:""}},created(){this.mode=this.$route.query.mode,this.oobCode=this.$route.query.oobCode,this.apikey=this.$route.query.apiKey,this.lang=this.$route.query.lang,!this.mode&&this.oobCode&&this.$router.replace("/*")},methods:{submit(){this.$refs.simpleRules.validate().then(s=>{s&&"resetPassword"==this.mode&&(this.loading=!0,a["a"].auth().confirmPasswordReset(this.oobCode,this.password).then(()=>{this.loading=!1,this.success()}).catch(s=>{this.loading=!1,this.error(),console.log(s)}))})},goHome(){this.$router.replace("/login")},success(){this.$swal({title:"สำเร็จ!",text:"เปลี่ยนรหัสผ่านเรียบร้อย",icon:"success",confirmButtonText:"ตกลง",width:"500px",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1}).then(()=>{this.successReset=!0})},error(){this.$swal({title:"ผิดพลาด!",text:" รหัสมีการแก้ไขไม่ถูกต้อง หมดอายุ หรือมีการแก้ไขแล้ว",icon:"error",confirmButtonText:"ตกลง",width:"500px",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}}}),d=l,c=e("2877"),u=Object(c["a"])(d,r,o,!1,null,null,null);t["default"]=u.exports},f12d:function(s,t,e){s.exports=e.p+"img/logoW.5b232f51.svg"}}]);
//# sourceMappingURL=chunk-3c8f7d64.2e230535.js.map