(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24003a68"],{1362:function(t,a,e){"use strict";var o,s,r=e("1fca"),l={extends:r["c"],props:{data:{type:Object,default:null},options:{type:Object,default:null}},mounted(){this.renderChart(this.data,this.options)}},n=l,i=e("2877"),c=Object(i["a"])(n,o,s,!1,null,null,null);a["a"]=c.exports},"6f9a":function(t,a,e){},"884a":function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-card",[e("div",{staticClass:"d-flex space-between mb-2"},[e("h5",{staticClass:"mb-3"},[e("i",{staticClass:"fas fa-truck",attrs:{color:"#7367f0"}}),t._v(" ตัวเลือกบริษัทขนส่ง ")]),e("div",{staticClass:"mx-50 select-month ml-2 mr-2"},[e("date-picker",{attrs:{valueType:"format",type:"month",format:"YYYY-MM"},on:{change:t.selectMonth},model:{value:t.monthSelect,callback:function(a){t.monthSelect=a},expression:"monthSelect"}})],1)]),t.loading?e("div",{staticClass:"p-4 row"},[e("vcl-list",{attrs:{width:"600px"}})],1):t._e(),t.loading?t._e():e("div",[e("div",{staticClass:"express-div ex-pad"},[0!=t.horizontalBarChart.data.datasets[0].data.length?e("chartjs-component-horizontal-bar-chart",{attrs:{height:300,data:t.horizontalBarChart.data,options:t.horizontalBarChart.options}}):t._e()],1),e("div",{staticClass:"mt-4 pl-4 pr-4"},[0!=t.bestDelivery.length?e("div",{staticClass:"mb-2 bold"},[t._v(" อันดับบริษัทขนส่ง ")]):t._e(),e("div",{staticClass:"allData ml-3"},[0==t.bestDelivery.length?e("div",{staticClass:"text-center p-4 text-mute"},[t._v(" ไม่พบรายการ ")]):t._e(),t._l(t.bestDelivery,(function(a,o){return e("div",{key:o,staticClass:"mb-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"mr-2 numIndex"},[t._v(t._s(o+1)+".")]),e("div",["KerryExpress"==a.company?e("img",{staticClass:"sm-image border",attrs:{src:"https://cms-tpq.theparq.com/wp-content/uploads/2020/07/Kerry-ORG-logo.png"}}):t._e(),"FlashExpress"==a.company?e("img",{staticClass:"sm-image border",attrs:{src:"https://www.jobbkk.com/upload/employer/06/8D6/02B8D6/images/178390.jpg"}}):t._e(),"J&TExpress"==a.company?e("img",{staticClass:"sm-image border",attrs:{src:"https://pbs.twimg.com/profile_images/1084741051141648384/7ay51YTQ.jpg"}}):t._e(),"ThailandPost"==a.company?e("img",{staticClass:"sm-image border",attrs:{src:"https://static.thairath.co.th/media/dFQROr7oWzulq5FZUEwvPil4I1YxlMLE0xadqgV7lyEbUhb6tSbx0jW7xbv3O2oYWUU.jpg"}}):t._e()])]),e("div",{staticClass:"col ml-3"},[e("div",[t._v(t._s(a.company))]),e("div",[e("span",{staticClass:"bold"},[t._v("จำนวนที่เลือก : ")]),e("span",{},[t._v(t._s(a.companyCount)+" ครั้ง")])])])])])}))],2)])])])},s=[],r=e("1362"),l=e("28f7"),n=e("c1df"),i=e.n(n),c=(e("78a7"),e("68ee"));const d={primaryColorShade:"#836AF9",yellowColor:"#93ff7d",successColorShade:"#28dac6",warningColorShade:"#ffe802",warningLightColor:"#FDAC34",infoColorShade:"#299AFF",greyColor:"#4F5D70",blueColor:"#2c9aff",blueLightColor:"#84D0FF",greyLightColor:"#EDF1F4",tooltipShadow:"rgba(0, 0, 0, 0.25)",lineChartPrimary:"#666ee8",lineChartDanger:"#ff4961",labelColor:"#6e6b7b",grid_line_color:"rgba(200, 200, 200, 0.2)"};var p={name:"ExpressDelivery",components:{ChartjsComponentHorizontalBarChart:r["a"],VclList:c["VclList"]},data(){return{loading:!1,thisMonth:"",monthSelect:"",bestDelivery:[],horizontalBarChart:{options:{elements:{rectangle:{borderWidth:2,borderSkipped:"top"}},tooltips:{shadowOffsetX:1,shadowOffsetY:1,shadowBlur:8,shadowColor:d.tooltipShadow,backgroundColor:"#f8f8f8",titleFontColor:"#000000",bodyFontColor:"#000000"},responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:500,legend:{display:!1},scales:{xAxes:[{display:!0,gridLines:{zeroLineColor:d.grid_line_color,borderColor:"transparent",color:d.grid_line_color,drawTicks:!1},scaleLabel:{display:!0},ticks:{min:0,fontColor:d.labelColor}}],yAxes:[{display:!0,gridLines:{display:!1},scaleLabel:{display:!0},ticks:{fontColor:d.labelColor}}]}},data:{labels:["KerryExpress","FlashExpress","J&TExpress","ThailandPost"],datasets:[{data:[],backgroundColor:["#ffad4f","#E9FA00","#ff4d61","#7088ff"],borderColor:"transparent",barThickness:15}]}}}},created(){this.monthSelect=i()().startOf("months").format("YYYY-MM"),this.nextMonthSelect=i()(this.monthSelect).add(1,"month").format("YYYY-MM"),this.loadOrderTruckCom()},methods:{selectMonth(t){this.monthSelect=t,this.nextMonthSelect=i()(t).add(1,"month").format("YYYY-MM"),this.loadOrderTruckCom()},loadOrderTruckCom(){this.loading=!0;var t=l["a"].firestore().collection("orders"),a=new Date(this.monthSelect+" 00:00"),e=new Date(this.nextMonthSelect+" 00:00");t.where("status","in",["เตรียมจัดส่ง","อยู่ระหว่างการจัดส่ง","จัดส่งแล้ว"]).where("createAt",">=",a).where("createAt","<",e).get().then(t=>{var a=[];t.forEach(t=>{var e={company:t.data().deliverCompany,companyCount:1};a.push(e)});var e=a.reduce((t,a)=>(t.some(t=>{if(t.company===a.company)return t.companyCount=t.companyCount+a.companyCount,t.company===a.company})||t.push(a),t),[]),o=[0,0,0,0];e.map(t=>{"KerryExpress"==t.company?o[0]=o[0]+t.companyCount:"FlashExpress"==t.company?o[1]=o[1]+t.companyCount:"J&TExpress"==t.company?o[2]=o[2]+t.companyCount:"ThailandPost"==t.company&&(o[3]=o[3]+t.companyCount)}),e.sort((t,a)=>parseFloat(t.companyCount)-parseFloat(a.companyCount)),e.reverse(),this.bestDelivery=e,this.horizontalBarChart.data.datasets[0].data=o,this.loading=!1})}}},h=p,m=(e("aaa4"),e("2877")),C=Object(m["a"])(h,o,s,!1,null,null,null);a["default"]=C.exports},aaa4:function(t,a,e){"use strict";e("6f9a")}}]);
//# sourceMappingURL=chunk-24003a68.56e3dc60.js.map