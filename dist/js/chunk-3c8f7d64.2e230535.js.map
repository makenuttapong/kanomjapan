{"version":3,"sources":["webpack:///./src/assets/reset-done.svg","webpack:///./src/views/resetPassword.vue?976e","webpack:///src/views/resetPassword.vue","webpack:///./src/views/resetPassword.vue?1af3","webpack:///./src/views/resetPassword.vue","webpack:///./src/assets/logoW.svg"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","loading","successReset","_e","on","goHomePage","_v","ref","$event","preventDefault","submit","scopedSlots","_u","key","fn","errors","length","model","value","callback","$$v","password","expression","_s","password2","goHome","staticRenderFns","name","components","ValidationProvider","ValidationObserver","required","email","mode","oobCode","apikey","lang","$route","query","apiKey","$router","replace","methods","$refs","simpleRules","validate","then","success","$swal","title","text","icon","confirmButtonText","width","customClass","confirmButton","buttonsStyling","component"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,+B,2CCA3C,IAAIC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,YAAY,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAOP,EAAIQ,QAAQ,QAAU,OAAO,CAAGR,EAAIS,aAIqQT,EAAIU,KAJ3PN,EAAG,SAAS,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,QAAuB,MAAQ,QAAQI,GAAG,CAAC,MAAQX,EAAIY,gBAAgBR,EAAG,eAAe,CAACE,YAAY,eAAe,CAACN,EAAIa,GAAG,qBAAqBT,EAAG,sBAAsB,CAACU,IAAI,eAAe,CAACV,EAAG,SAAS,CAACE,YAAY,gCAAgCC,MAAM,CAAC,OAAS,QAAQI,GAAG,CAAC,OAAS,SAASI,GAAgC,OAAxBA,EAAOC,iBAAwBhB,EAAIiB,OAAOF,MAAW,CAACX,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,eAAe,YAAY,uBAAuB,CAACH,EAAG,sBAAsB,CAACG,MAAM,CAAC,KAAO,WAAW,IAAM,WAAW,MAAQ,kBAAkBW,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASP,GACh+B,IAAIQ,EAASR,EAAIQ,OACjB,MAAO,CAAClB,EAAG,eAAe,CAACE,YAAY,qBAAqBC,MAAM,CAAC,GAAK,qBAAqB,KAAO,WAAW,QAAQe,EAAOC,OAAS,IAAY,KAAK,KAAO,qBAAqB,YAAc,oBAAoBC,MAAM,CAACC,MAAOzB,EAAY,SAAE0B,SAAS,SAAUC,GAAM3B,EAAI4B,SAASD,GAAKE,WAAW,cAAczB,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACN,EAAIa,GAAGb,EAAI8B,GAAGR,EAAO,WAAW,MAAK,EAAM,eAAe,GAAGlB,EAAG,eAAe,CAACG,MAAM,CAAC,YAAY,yBAAyB,MAAQ,mBAAmB,CAACH,EAAG,sBAAsB,CAACG,MAAM,CAAC,KAAO,mBAAmB,MAAQ,+BAA+BW,YAAYlB,EAAImB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASP,GACvoB,IAAIQ,EAASR,EAAIQ,OACjB,MAAO,CAAClB,EAAG,eAAe,CAACE,YAAY,qBAAqBC,MAAM,CAAC,GAAK,yBAAyB,KAAO,WAAW,QAAQe,EAAOC,OAAS,IAAY,KAAK,KAAO,yBAAyB,YAAc,4BAA4BC,MAAM,CAACC,MAAOzB,EAAa,UAAE0B,SAAS,SAAUC,GAAM3B,EAAI+B,UAAUJ,GAAKE,WAAW,eAAezB,EAAG,QAAQ,CAACE,YAAY,eAAe,CAACN,EAAIa,GAAGb,EAAI8B,GAAGR,EAAO,WAAW,MAAK,EAAM,eAAe,GAAGlB,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,SAAS,QAAU,YAAY,CAACP,EAAIa,GAAG,sBAAsB,IAAI,IAAI,GAAab,EAAgB,aAAEI,EAAG,SAAS,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACG,MAAM,CAAC,IAAM,EAAQ,QAA4B,MAAQ,WAAWH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACO,GAAG,CAAC,MAAQX,EAAIgC,SAAS,CAAChC,EAAIa,GAAG,gCAAgC,OAAOb,EAAIU,MAAM,IAAI,MACl1BuB,EAAkB,G,oCCoFtB,G,UAAA,CACEC,KAAM,YACNC,WAAY,CACVC,mBAAJ,OACIC,mBAAJ,QAEE,OACE,MAAO,CACLT,SAAU,GACVG,UAAW,GACXtB,cAAc,EAEd6B,SAAN,OACMC,MAAN,OACM/B,SAAS,EACTgC,KAAM,GACNC,QAAS,GACTC,OAAQ,GACRC,KAAM,KAGV,UACE1C,KAAKuC,KAAOvC,KAAK2C,OAAOC,MAAML,KAC9BvC,KAAKwC,QAAUxC,KAAK2C,OAAOC,MAAMJ,QACjCxC,KAAKyC,OAASzC,KAAK2C,OAAOC,MAAMC,OAChC7C,KAAK0C,KAAO1C,KAAK2C,OAAOC,MAAMF,MACzB1C,KAAKuC,MAAQvC,KAAKwC,SACrBxC,KAAK8C,QAAQC,QAAQ,OAGzBC,QAAS,CACP,SACEhD,KAAKiD,MAAMC,YAAYC,WAAWC,KAAK,IACjCC,GACe,iBAAbrD,KAAKuC,OACPvC,KAAKO,SAAU,EACf,EAAZ,KACA,OACA,iDACA,UACc,KAAd,WACc,KAAd,YAEA,UACc,KAAd,WACc,KAAd,QACc,QAAd,aAMI,SACEP,KAAK8C,QAAQC,QAAQ,WAEvB,UACE/C,KAAKsD,MAAM,CACTC,MAAO,UACPC,KAAM,2BACNC,KAAM,UACNC,kBAAmB,OACnBC,MAAO,QACPC,YAAa,CACXC,cAAe,mBAEjBC,gBAAgB,IACxB,UACQ9D,KAAKQ,cAAe,KAGxB,QACER,KAAKsD,MAAM,CACTC,MAAO,WACPC,KAAM,uDACNC,KAAM,QACNC,kBAAmB,OACnBC,MAAO,QACPC,YAAa,CACXC,cAAe,mBAEjBC,gBAAgB,QCzK+T,I,YCOnVC,EAAY,eACd,EACAjE,EACAkC,GACA,EACA,KACA,KACA,MAIa,aAAA+B,E,8BClBfnE,EAAOC,QAAU,IAA0B","file":"js/chunk-3c8f7d64.2e230535.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/reset-done.62537b04.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"auth-wrapper auth-v1 px-2\"},[_c('div',{staticClass:\"auth-inner py-2\"},[_c('b-overlay',{staticClass:\"setOverlay\",attrs:{\"show\":_vm.loading,\"rounded\":\"sm\"}},[(!_vm.successReset)?_c('b-card',{staticClass:\"mb-0\"},[_c('div',{staticClass:\"brand-logo text-center\"},[_c('img',{attrs:{\"src\":require('../assets/logoW.svg'),\"width\":\"90px\"},on:{\"click\":_vm.goHomePage}})]),_c('b-card-title',{staticClass:\"mb-1 center\"},[_vm._v(\" รีเซตรหัสผ่าน \")]),_c('validation-observer',{ref:\"simpleRules\"},[_c('b-form',{staticClass:\"auth-reset-password-form mt-2\",attrs:{\"method\":\"POST\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('b-form-group',{attrs:{\"label\":\"รหัสผ่านใหม่\",\"label-for\":\"reset-password-new\"}},[_c('validation-provider',{attrs:{\"name\":\"Password\",\"vid\":\"Password\",\"rules\":\"required|min:8\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{staticClass:\"form-control-merge\",attrs:{\"id\":\"reset-password-new\",\"type\":\"password\",\"state\":errors.length > 0 ? false : null,\"name\":\"reset-password-new\",\"placeholder\":\"กรอกรหัสผ่านใหม่\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,false,3170088457)})],1),_c('b-form-group',{attrs:{\"label-for\":\"reset-password-confirm\",\"label\":\"ยืนยันรหัสผ่าน\"}},[_c('validation-provider',{attrs:{\"name\":\"Confirm Password\",\"rules\":\"required|confirmed:Password\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar errors = ref.errors;\nreturn [_c('b-form-input',{staticClass:\"form-control-merge\",attrs:{\"id\":\"reset-password-confirm\",\"type\":\"password\",\"state\":errors.length > 0 ? false : null,\"name\":\"reset-password-confirm\",\"placeholder\":\"กรอกรหัสผ่านใหม่อีกครั้ง\"},model:{value:(_vm.password2),callback:function ($$v) {_vm.password2=$$v},expression:\"password2\"}}),_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))])]}}],null,false,4119753018)})],1),_c('b-button',{attrs:{\"block\":\"\",\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" รีเซตรหัสผ่าน \")])],1)],1)],1):_vm._e(),(_vm.successReset)?_c('b-card',{staticClass:\"mb-0\"},[_c('div',{staticClass:\"img-done center\"},[_c('img',{attrs:{\"src\":require(\"../assets/reset-done.svg\"),\"width\":\"300px\"}}),_c('div',{staticClass:\"mt-4\"},[_c('b-link',{on:{\"click\":_vm.goHome}},[_vm._v(\"กลับไปยังหน้าเข้าสู่ระบบ \")])],1)])]):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"auth-wrapper auth-v1 px-2\">\r\n    <div class=\"auth-inner py-2\">\r\n\r\n      <b-overlay :show=\"loading\" rounded=\"sm\" class=\"setOverlay\">\r\n        <b-card v-if=\"!successReset\" class=\"mb-0\">\r\n          <div class=\"brand-logo text-center\" >\r\n            <img :src=\"require('../assets/logoW.svg')\" width=\"90px\" @click=\"goHomePage\" />\r\n          </div>\r\n\r\n          <b-card-title class=\"mb-1 center\"> รีเซตรหัสผ่าน </b-card-title>\r\n\r\n\r\n          <validation-observer ref=\"simpleRules\">\r\n            <b-form\r\n              method=\"POST\"\r\n              class=\"auth-reset-password-form mt-2\"\r\n              @submit.prevent=\"submit\"\r\n            >\r\n    \r\n              <b-form-group label=\"รหัสผ่านใหม่\" label-for=\"reset-password-new\">\r\n                <validation-provider\r\n                  #default=\"{ errors }\"\r\n                  name=\"Password\"\r\n                  vid=\"Password\"\r\n                  rules=\"required|min:8\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"reset-password-new\"\r\n                    v-model=\"password\"\r\n                    type=\"password\"\r\n                    :state=\"errors.length > 0 ? false : null\"\r\n                    class=\"form-control-merge\"\r\n                    name=\"reset-password-new\"\r\n                    placeholder=\"กรอกรหัสผ่านใหม่\"\r\n                  />\r\n\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </validation-provider>\r\n              </b-form-group>\r\n\r\n              <b-form-group\r\n                label-for=\"reset-password-confirm\"\r\n                label=\"ยืนยันรหัสผ่าน\"\r\n              >\r\n                <validation-provider\r\n                  #default=\"{ errors }\"\r\n                  name=\"Confirm Password\"\r\n                  rules=\"required|confirmed:Password\"\r\n                >\r\n                  <b-form-input\r\n                    id=\"reset-password-confirm\"\r\n                    v-model=\"password2\"\r\n                    type=\"password\"\r\n                    class=\"form-control-merge\"\r\n                    :state=\"errors.length > 0 ? false : null\"\r\n                    name=\"reset-password-confirm\"\r\n                    placeholder=\"กรอกรหัสผ่านใหม่อีกครั้ง\"\r\n                  />\r\n\r\n                  <small class=\"text-danger\">{{ errors[0] }}</small>\r\n                </validation-provider>\r\n              </b-form-group>\r\n\r\n              <b-button block type=\"submit\" variant=\"primary\">\r\n                รีเซตรหัสผ่าน\r\n              </b-button>\r\n            </b-form>\r\n          </validation-observer>\r\n        </b-card>\r\n\r\n        <b-card v-if=\"successReset\" class=\"mb-0\">\r\n          <div class=\"img-done center\">\r\n            <img src=\"../assets/reset-done.svg\" width=\"300px\" />\r\n            <div class=\"mt-4\">\r\n              <b-link class=\"\" @click=\"goHome\">กลับไปยังหน้าเข้าสู่ระบบ </b-link>\r\n              </div>\r\n          </div>\r\n        </b-card>\r\n      </b-overlay>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebaseApp from \"../firebase/firebase_app\";\r\nimport { ValidationProvider, ValidationObserver } from \"vee-validate\";\r\nimport { required, email } from \"../helper/validations\";\r\nimport \"../assets/scss/style.scss\";\r\nexport default {\r\n  name: \"resetPass\",\r\n  components: {\r\n    ValidationProvider,\r\n    ValidationObserver,\r\n  },\r\n  data() {\r\n    return {\r\n      password: \"\",\r\n      password2: \"\",\r\n      successReset: false,\r\n      // validation\r\n      required,\r\n      email,\r\n      loading: false,\r\n      mode: \"\",\r\n      oobCode: \"\",\r\n      apikey: \"\",\r\n      lang: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.mode = this.$route.query.mode;\r\n    this.oobCode = this.$route.query.oobCode;\r\n    this.apikey = this.$route.query.apiKey;\r\n    this.lang = this.$route.query.lang;\r\n    if (!this.mode && this.oobCode) {\r\n      this.$router.replace(\"/*\");\r\n    }\r\n  },\r\n  methods: {\r\n    submit() {\r\n      this.$refs.simpleRules.validate().then((success) => {\r\n        if (success) {\r\n          if (this.mode == \"resetPassword\") {\r\n            this.loading = true;\r\n            firebaseApp\r\n              .auth()\r\n              .confirmPasswordReset(this.oobCode, this.password)\r\n              .then(() => {\r\n                this.loading = false;\r\n                this.success();\r\n              })\r\n              .catch((err) => {\r\n                this.loading = false;\r\n                this.error();\r\n                console.log(err);\r\n              });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    goHome(){\r\n      this.$router.replace(\"/login\");\r\n    },\r\n    success() {\r\n      this.$swal({\r\n        title: \"สำเร็จ!\",\r\n        text: \"เปลี่ยนรหัสผ่านเรียบร้อย\",\r\n        icon: \"success\",\r\n        confirmButtonText: \"ตกลง\",\r\n        width: \"500px\",\r\n        customClass: {\r\n          confirmButton: \"btn btn-primary\",\r\n        },\r\n        buttonsStyling: false,\r\n      }).then(() => {\r\n        this.successReset = true;\r\n      });\r\n    },\r\n    error() {\r\n      this.$swal({\r\n        title: \"ผิดพลาด!\",\r\n        text: \" รหัสมีการแก้ไขไม่ถูกต้อง หมดอายุ หรือมีการแก้ไขแล้ว\",\r\n        icon: \"error\",\r\n        confirmButtonText: \"ตกลง\",\r\n        width: \"500px\",\r\n        customClass: {\r\n          confirmButton: \"btn btn-primary\",\r\n        },\r\n        buttonsStyling: false,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./resetPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./resetPassword.vue?vue&type=template&id=36b6c39c&\"\nimport script from \"./resetPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./resetPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/logoW.5b232f51.svg\";"],"sourceRoot":""}